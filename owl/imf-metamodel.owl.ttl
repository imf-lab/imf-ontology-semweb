@prefix rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#> .
@prefix imf: <http://ns.imfid.org/imf#> .
@prefix pav: <http://purl.org/pav/> .
@prefix o-rdf: <http://tpl.ottr.xyz/rdf/0.1/> .
@prefix o-owl-rstr: <http://tpl.ottr.xyz/owl/restriction/0.1/> .
@prefix owl: <http://www.w3.org/2002/07/owl#> .
@prefix xsd: <http://www.w3.org/2001/XMLSchema#> .
@prefix skos: <http://www.w3.org/2004/02/skos/core#> .
@prefix rdfs: <http://www.w3.org/2000/01/rdf-schema#> .
@prefix ex: <http://example.com#> .
@prefix sh: <http://www.w3.org/ns/shacl#> .
@prefix o-imf: <http://ns.imfid.org/templates/> .
@prefix ottr: <http://ns.ottr.xyz/0.4/> .
@prefix o-owl-ma: <http://tpl.ottr.xyz/owl/macro/0.1/> .
@prefix o-owl-ax: <http://tpl.ottr.xyz/owl/axiom/0.1/> .
@prefix shsh: <http://www.w3.org/ns/shacl-shacl#> .

imf:AspectObject
    a owl:Class ;
    owl:equivalentClass [
        a owl:Class ;
        owl:unionOf (imf:SystemBlock
            imf:Terminal
            imf:InterfacePoint
        )
    ] ;
    skos:scopeNote """

    Each aspect object is either a system block or a terminal.""" .

imf:InputTerminal
    a owl:Class ;
    rdfs:subClassOf imf:Terminal, [
        a owl:Restriction ;
        owl:allValuesFrom imf:InputTerminal ;
        owl:onProperty imf:isPartOf
    ] ;
    skos:altLabel "Input" ;
    skos:definition """

    A terminal whose default function is to recieve input for its
    system.

  """ ;
    skos:prefLabel "Input Terminal" .

imf:InterfacePoint
    a owl:Class ;
    rdfs:subClassOf imf:AspectObject, [
        a owl:Restriction ;
        owl:onClass imf:OutputTerminal ;
        owl:onProperty imf:hasOutputTerminal ;
        owl:qualifiedCardinality "1"^^xsd:nonNegativeInteger
    ], [
        a owl:Restriction ;
        owl:onClass imf:InputTerminal ;
        owl:onProperty imf:hasInputTerminal ;
        owl:qualifiedCardinality "1"^^xsd:nonNegativeInteger
    ] ;
    skos:altLabel "Connection", "Junction", "Transport" ;
    skos:definition """

     A simple type of system block that has exactly one input and one
     output. No transformation of the input is performed.

     The connection, in effect, merges the two connected
     terminals. The connection itself has no function or spatial
     significance.

  """ ;
    skos:prefLabel "Interface Point" .

imf:OutputTerminal
    a owl:Class ;
    rdfs:subClassOf imf:Terminal, [
        a owl:Restriction ;
        owl:allValuesFrom imf:OutputTerminal ;
        owl:onProperty imf:isPartOf
    ] ;
    skos:altLabel "Output" ;
    skos:definition """

    A terminal whose default function is to give output for its
    system.

  """ ;
    skos:prefLabel "Output Terminal" .

imf:SystemBlock
    a owl:Class ;
    rdfs:subClassOf imf:AspectObject, [
        a owl:Restriction ;
        owl:allValuesFrom imf:SystemBlock ;
        owl:onProperty imf:isPartOf
    ] ;
    skos:definition """

    A system is a processing (black) box. It processes the input to
    output, possibly changing the state of what is processed.

    Transforms the input from its input terminals to the output to its
    output terminals. The relation between the input and output
    terminals may be complex and may be further described by
    subsystems which are related by hasPart.

    A system may have multiple input and output terminals. A system
    with zero terminals is uncommon.

  """ ;
    skos:prefLabel "System Block" .

imf:Terminal
    a owl:Class ;
    rdfs:subClassOf imf:AspectObject ;
    owl:equivalentClass [
        a owl:Class ;
        owl:unionOf (imf:InputTerminal
            imf:OutputTerminal
        )
    ] ;
    skos:altLabel "Channel", "Input/Output", "Port" ;
    skos:definition """

    A port or boundry point through which a system block can interact
    and communicate with the world outside the system, receiving input
    and giving output.

  """ ;
    skos:editorialNote """

     [2022-03-11 Fri] Need to represent the type of a terminal, and
     constraints on connections between typed terminals: material,
     information, energy, structural.

   """ ;
    skos:prefLabel "Terminal" .

imf:directlyPrecedes
    a owl:ObjectProperty ;
    rdfs:domain imf:InputTerminal ;
    rdfs:range imf:OutputTerminal ;
    rdfs:subPropertyOf imf:precedes ;
    skos:definition """

    An immediate, non-transitive, precedes relation between input
    terminals and output terminals *of the same system* such that
    (parts of) the input to the input terminal is processed by the
    system to produce (parts of) the output of the output terminal.

  """ ;
    skos:prefLabel "directly precedes" .

imf:hasInputTerminal
    a owl:ObjectProperty ;
    rdfs:range imf:InputTerminal ;
    rdfs:subPropertyOf imf:hasTerminal ;
    skos:definition "The relation between a system and its input terminals." ;
    skos:prefLabel "has input terminal" .

imf:hasOutputTerminal
    a owl:ObjectProperty ;
    rdfs:range imf:OutputTerminal ;
    rdfs:subPropertyOf imf:hasTerminal ;
    skos:definition "The relation between a system and its output terminals." ;
    skos:prefLabel "has output terminal" .

imf:hasPart
    a owl:ObjectProperty ;
    rdfs:subPropertyOf imf:hierarchicalRelation, imf:intraAspectRelation, skos:narrower ;
    owl:inverseOf imf:isPartOf ;
    skos:altLabel "has part" ;
    skos:prefLabel "has child" .

imf:hasTerminal
    a owl:ObjectProperty ;
    rdfs:domain imf:SystemBlock ;
    rdfs:range imf:Terminal ;
    rdfs:subPropertyOf imf:associativeRelation, imf:intraAspectRelation ;
    skos:definition "The relation between a system and its terminals." ;
    skos:prefLabel "has terminal" .

imf:isConnectedTo
    a owl:ObjectProperty ;
    rdfs:domain imf:OutputTerminal ;
    rdfs:range imf:InputTerminal ;
    rdfs:subPropertyOf imf:associativeRelation, imf:intraAspectRelation, imf:precedes ;
    skos:definition """

    The relation between to terminals that are connected. The output
    of the output terminal is given as input to the input terminal.

  """ ;
    skos:prefLabel "is connected to" .

imf:isPartOf
    a owl:FunctionalProperty, owl:ObjectProperty ;
    rdfs:domain imf:AspectObject ;
    rdfs:range imf:AspectObject ;
    rdfs:subPropertyOf imf:hierarchicalRelation, imf:intraAspectRelation, skos:broader ;
    skos:altLabel "is part of" ;
    skos:definition """

    An aspect object is placed in a tree-shaped breakdown structure
    using isPartOf/hasPart relationships. An aspect object may have
    a single parent (the root object has no parent) and possibly
    multiple children. This is an abstraction mechanism. The children
    of an aspect object provide a more detailed description of (parts
    of) its parent.

  """ ;
    skos:prefLabel "has parent" .

imf:precedes
    a owl:ObjectProperty, owl:TransitiveProperty ;
    rdfs:domain imf:Terminal ;
    rdfs:range imf:Terminal ;
    rdfs:subPropertyOf imf:associativeRelation, imf:intraAspectRelation ;
    skos:definition """

    A relation between terminals that represents the \"flow\" of
    input/output between teminals, both terminals of the same system
    block (represented by the subproperty directlyPrecedes) and of
    different system blocks (represented by the subproperty
    isConnectedTo).

  """ ;
    skos:prefLabel "precedes" .

<http://ns.imfid.org/imf-metamodel>
    a owl:Ontology ;
    owl:imports <http://ns.imfid.org/ontology/20220701/imf-top> ;
    owl:versionIRI <http://ns.imfid.org/ontology/20220701/imf-metamodel> ;
    skos:altLabel "IMF metamodel ontology" ;
    skos:prefLabel "Information Modelling Framework Ontology: Metamodel Ontology " ;
    skos:scopeNote """

      This ontology defines IMF's meta model which defines how
      IMF models are represented.

    """ .

[]
    a owl:AllDisjointClasses ;
    owl:members (imf:InputTerminal
        imf:OutputTerminal
    ) .

[]
    a owl:AllDisjointClasses ;
    owl:members (imf:SystemBlock
        imf:Terminal
        imf:InterfacePoint
    ) .

