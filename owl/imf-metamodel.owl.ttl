@prefix rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#> .
@prefix imf: <http://ns.imfid.org/imf#> .
@prefix pav: <http://purl.org/pav/> .
@prefix o-rdf: <http://tpl.ottr.xyz/rdf/0.1/> .
@prefix o-owl-rstr: <http://tpl.ottr.xyz/owl/restriction/0.1/> .
@prefix owl: <http://www.w3.org/2002/07/owl#> .
@prefix xsd: <http://www.w3.org/2001/XMLSchema#> .
@prefix skos: <http://www.w3.org/2004/02/skos/core#> .
@prefix rdfs: <http://www.w3.org/2000/01/rdf-schema#> .
@prefix ex: <http://example.com#> .
@prefix sh: <http://www.w3.org/ns/shacl#> .
@prefix o-imf: <http://ns.imfid.org/templates/> .
@prefix ottr: <http://ns.ottr.xyz/0.4/> .
@prefix o-owl-ma: <http://tpl.ottr.xyz/owl/macro/0.1/> .
@prefix o-owl-ax: <http://tpl.ottr.xyz/owl/axiom/0.1/> .
@prefix shsh: <http://www.w3.org/ns/shacl-shacl#> .

imf:AspectObject
    a owl:Class ;
    owl:equivalentClass [
        a owl:Class ;
        owl:unionOf (imf:SystemBlock
            imf:Terminal
        )
    ] ;
    skos:scopeNote """

    Each aspect object is either a system block or a terminal.""" .

imf:Connection
    a owl:Class ;
    rdfs:subClassOf imf:SystemBlock, [
        a owl:Restriction ;
        owl:onClass imf:OutletTerminal ;
        owl:onProperty imf:hasOutletTerminal ;
        owl:qualifiedCardinality "1"^^xsd:nonNegativeInteger
    ], [
        a owl:Restriction ;
        owl:onClass imf:InletTerminal ;
        owl:onProperty imf:hasInletTerminal ;
        owl:qualifiedCardinality "1"^^xsd:nonNegativeInteger
    ] ;
    skos:altLabel "Junction", "Transport" ;
    skos:definition """

     A simple type of system block that has exactly one input and one
     output. No transformation of the input is performed.

     The connection, in effect, merges the two connected
     terminals. The connection itself has no function or spatial
     significance.

  """ ;
    skos:prefLabel "Connection" .

imf:InletTerminal
    a owl:Class ;
    rdfs:subClassOf imf:Terminal, [
        a owl:Restriction ;
        owl:allValuesFrom imf:InletTerminal ;
        owl:onProperty imf:hasParent
    ] ;
    skos:definition """

    A terminal whose default function is to recieve input for its
    system.

  """ ;
    skos:prefLabel "Inlet Terminal" .

imf:OutletTerminal
    a owl:Class ;
    rdfs:subClassOf imf:Terminal, [
        a owl:Restriction ;
        owl:allValuesFrom imf:OutletTerminal ;
        owl:onProperty imf:hasParent
    ] ;
    skos:definition """

    A terminal whose default function is to give output for its
    system.

  """ ;
    skos:prefLabel "Outlet Terminal" .

imf:SystemBlock
    a owl:Class ;
    rdfs:subClassOf imf:AspectObject, [
        a owl:Restriction ;
        owl:allValuesFrom imf:SystemBlock ;
        owl:onProperty imf:hasParent
    ] ;
    skos:definition """

    A system is a processing (black) box. It processes the input to
    output, possibly changing the state of what is processed.

    Transforms the input from its inlet terminals to the output to its
    outlet terminals. The relation between the inlet and outlet
    terminals may be complex and may be further described by
    subsystems which are related by hasChild.

    A system may have multiple inlet and outlet terminals. A system
    with zero terminals is uncommon.

  """ ;
    skos:prefLabel "System Block" .

imf:Terminal
    a owl:Class ;
    rdfs:subClassOf imf:AspectObject ;
    owl:equivalentClass [
        a owl:Class ;
        owl:unionOf (imf:InletTerminal
            imf:OutletTerminal
        )
    ] ;
    skos:altLabel "Port" ;
    skos:definition """

    A port or boundry point through which a system block can interact
    and communicate with the world outside the system, receiving input
    and giving output.

  """ ;
    skos:editorialNote """

     [2022-03-11 Fri] Need to represent the type of a terminal, and
     constraints on connections between typed terminals: material,
     information, energy, structural.

   """ ;
    skos:prefLabel "Terminal" .

imf:directlyPrecedes
    a owl:ObjectProperty ;
    rdfs:domain imf:InletTerminal ;
    rdfs:range imf:OutletTerminal ;
    rdfs:subPropertyOf imf:precedes ;
    skos:definition """

    An immediate, non-transitive, precedes relation between inlet
    terminals and outlet terminals *of the same system* such that
    (parts of) the input to the inlet terminal is processed by the
    system to produce (parts of) the output of the outlet terminal.

  """ ;
    skos:prefLabel "directly precedes" .

imf:hasChild
    a owl:ObjectProperty ;
    rdfs:subPropertyOf imf:hierarchicalRelation, imf:intraAspectRelation, skos:narrower ;
    owl:inverseOf imf:hasParent ;
    skos:altLabel "has part" ;
    skos:prefLabel "has child" .

imf:hasInletTerminal
    a owl:ObjectProperty ;
    rdfs:range imf:InletTerminal ;
    rdfs:subPropertyOf imf:hasTerminal ;
    skos:definition "The relation between a system and its inlet terminals." ;
    skos:prefLabel "has inlet terminal" .

imf:hasOutletTerminal
    a owl:ObjectProperty ;
    rdfs:range imf:OutletTerminal ;
    rdfs:subPropertyOf imf:hasTerminal ;
    skos:definition "The relation between a system and its outlet terminals." ;
    skos:prefLabel "has outlet terminal" .

imf:hasParent
    a owl:FunctionalProperty, owl:ObjectProperty ;
    rdfs:domain imf:AspectObject ;
    rdfs:range imf:AspectObject ;
    rdfs:subPropertyOf imf:hierarchicalRelation, imf:intraAspectRelation, skos:broader ;
    skos:altLabel "is part of" ;
    skos:definition """

    An aspect object is placed in a tree-shaped breakdown structure
    using hasParent/hasChild relationships. An aspect object may have
    a single parent (the root object has no parent) and possibly
    multiple children. This is an abstraction mechanism. The children
    of an aspect object provide a more detailed description of (parts
    of) its parent.

  """ ;
    skos:prefLabel "has parent" .

imf:hasTerminal
    a owl:ObjectProperty ;
    rdfs:domain imf:SystemBlock ;
    rdfs:range imf:Terminal ;
    rdfs:subPropertyOf imf:associativeRelation, imf:intraAspectRelation ;
    skos:definition "The relation between a system and its terminals." ;
    skos:prefLabel "has terminal" .

imf:isConnectedTo
    a owl:ObjectProperty ;
    rdfs:domain imf:OutletTerminal ;
    rdfs:range imf:InletTerminal ;
    rdfs:subPropertyOf imf:associativeRelation, imf:intraAspectRelation, imf:precedes ;
    skos:definition """

    The relation between to terminals that are connected. The output
    of the outlet terminal is given as input to the inlet terminal.

  """ ;
    skos:prefLabel "is connected to" .

imf:precedes
    a owl:ObjectProperty, owl:TransitiveProperty ;
    rdfs:domain imf:Terminal ;
    rdfs:range imf:Terminal ;
    rdfs:subPropertyOf imf:associativeRelation, imf:intraAspectRelation ;
    skos:definition """

    A relation between terminals that represents the \"flow\" of
    input/output between teminals, both terminals of the same system
    block (represented by the subproperty directlyPrecedes) and of
    different system blocks (represented by the subproperty
    isConnectedTo).

  """ ;
    skos:prefLabel "precedes" .

<http://ns.imfid.org/imf-metamodel>
    a owl:Ontology ;
    skos:altLabel "IMF metamodel ontology" ;
    skos:prefLabel "Information Modelling Framework Ontology: Metamodel Ontology " ;
    skos:scopeNote """

      This ontology defines IMF's meta model which defines how
      IMF models are represented.

    """ .

[]
    a owl:AllDisjointClasses ;
    owl:members (imf:InletTerminal
        imf:OutletTerminal
    ) .

[]
    a owl:AllDisjointClasses ;
    owl:members (imf:SystemBlock
        imf:Terminal
    ) .

