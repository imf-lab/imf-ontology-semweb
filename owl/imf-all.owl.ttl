@prefix imf: <http://ns.imfid.org/imf#> .
@prefix owl: <http://www.w3.org/2002/07/owl#> .
@prefix rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#> .
@prefix rdfs: <http://www.w3.org/2000/01/rdf-schema#> .
@prefix skos: <http://www.w3.org/2004/02/skos/core#> .
@prefix xsd: <http://www.w3.org/2001/XMLSchema#> .

<http://ns.imfid.org/imf> a owl:Ontology ;
    owl:imports <http://ns.imfid.org/ontology/20220701/imf-aspects>,
        <http://ns.imfid.org/ontology/20220701/imf-metamodel>,
        <http://ns.imfid.org/ontology/20220701/imf-top> ;
    owl:versionIRI <http://ns.imfid.org/ontology/20220701/imf> ;
    skos:altLabel "IMF ontology" ;
    skos:prefLabel "Information Modelling Framework Ontology " ;
    skos:scopeNote """

      This is the main IMF ontology and its main point of entry.  This
      ontology document imports all other IMF ontology documents, each
      of which focus on one particular part of the ontology:

      1. IMF Top defines the very high-level classes and properties of
      the IMF ontology, such as AspectObject.

      2. IMF Metamodel defines the metamodel for aspect objects and
      their permissible properties.

      3. IMF Aspects defines the aspects that are available to aspect
      objects.

    """ .

imf:directlyPrecedes a owl:ObjectProperty ;
    rdfs:domain imf:InputTerminal ;
    rdfs:range imf:OutputTerminal ;
    rdfs:subPropertyOf imf:precedes ;
    skos:definition """

    An immediate, non-transitive, precedes relation between input
    terminals and output terminals *of the same system* such that
    (parts of) the input to the input terminal is processed by the
    system to produce (parts of) the output of the output terminal.

  """ ;
    skos:prefLabel "directly precedes" .

imf:hasAspectObject a owl:ObjectProperty ;
    rdfs:domain imf:MultiAspectObject ;
    rdfs:range imf:AspectObject ;
    skos:definition """

    Relates the multi-aspect object to the aspect object(s) it
    collects.

    """ ;
    skos:prefLabel "has aspect object" .

imf:hasPart a owl:ObjectProperty ;
    rdfs:subPropertyOf imf:hierarchicalRelation,
        imf:intraAspectRelation,
        skos:narrower ;
    owl:inverseOf imf:isPartOf ;
    skos:altLabel "has part" ;
    skos:prefLabel "has child" .

imf:interAspectRelation a owl:ObjectProperty ;
    rdfs:domain imf:AspectObject ;
    rdfs:range imf:AspectObject ;
    rdfs:subPropertyOf skos:related ;
    skos:definition """

      Relates aspects objects of different aspects.

    """ .

imf:isConnectedTo a owl:ObjectProperty ;
    rdfs:domain imf:OutputTerminal ;
    rdfs:range imf:InputTerminal ;
    rdfs:subPropertyOf imf:associativeRelation,
        imf:intraAspectRelation,
        imf:precedes ;
    skos:definition """

    The relation between to terminals that are connected. The output
    of the output terminal is given as input to the input terminal.

  """ ;
    skos:prefLabel "is connected to" .

<http://ns.imfid.org/imf-aspects> a owl:Ontology ;
    owl:imports <http://ns.imfid.org/ontology/20220701/imf-top> ;
    owl:versionIRI <http://ns.imfid.org/ontology/20220701/imf-aspects> ;
    skos:altLabel "IMF aspects ontology" ;
    skos:prefLabel "Information Modelling Framework Ontology: Aspects Ontology " ;
    skos:scopeNote """

      This ontology defines IMF's central aspects.

    """ .

<http://ns.imfid.org/imf-metamodel> a owl:Ontology ;
    owl:imports <http://ns.imfid.org/ontology/20220701/imf-top> ;
    owl:versionIRI <http://ns.imfid.org/ontology/20220701/imf-metamodel> ;
    skos:altLabel "IMF metamodel ontology" ;
    skos:prefLabel "Information Modelling Framework Ontology: Metamodel Ontology " ;
    skos:scopeNote """

      This ontology defines IMF's meta model which defines how
      IMF models are represented.

    """ .

<http://ns.imfid.org/imf-top> a owl:Ontology ;
    owl:imports <http://www.w3.org/2004/02/skos/core> ;
    owl:versionIRI <http://ns.imfid.org/ontology/20220701/imf-top> ;
    skos:altLabel "IMF top ontology" ;
    skos:prefLabel "Information Modelling Framework Ontology: Top Ontology " ;
    skos:scopeNote """

      This ontology defines the very core classes and relations of the
      Information Modelling Framework (IMF) to provide a structure for
      ontologies that extend this ontology.

    """ .

imf:FunctionAspectObject a owl:Class ;
    rdfs:subClassOf [ a owl:Restriction ;
            owl:allValuesFrom imf:FunctionAspectObject ;
            owl:onProperty imf:intraAspectRelation ],
        imf:AspectObject ;
    owl:equivalentClass [ a owl:Class,
                owl:Restriction ;
            owl:hasValue imf:FunctionAspect ;
            owl:onProperty imf:hasAspect ] .

imf:InstalledAspectObject a owl:Class ;
    rdfs:subClassOf [ a owl:Restriction ;
            owl:allValuesFrom imf:InstalledAspectObject ;
            owl:onProperty imf:intraAspectRelation ],
        imf:AspectObject ;
    owl:equivalentClass [ a owl:Class,
                owl:Restriction ;
            owl:hasValue imf:InstalledAspect ;
            owl:onProperty imf:hasAspect ] .

imf:LocationAspectObject a owl:Class ;
    rdfs:subClassOf [ a owl:Restriction ;
            owl:allValuesFrom imf:LocationAspectObject ;
            owl:onProperty imf:intraAspectRelation ],
        imf:AspectObject ;
    owl:equivalentClass [ a owl:Class,
                owl:Restriction ;
            owl:hasValue imf:LocationAspect ;
            owl:onProperty imf:hasAspect ] .

imf:ProductAspectObject a owl:Class ;
    rdfs:subClassOf [ a owl:Restriction ;
            owl:allValuesFrom imf:ProductAspectObject ;
            owl:onProperty imf:intraAspectRelation ],
        imf:AspectObject ;
    owl:equivalentClass [ a owl:Class,
                owl:Restriction ;
            owl:hasValue imf:ProductAspect ;
            owl:onProperty imf:hasAspect ] .

imf:hasInputTerminal a owl:ObjectProperty ;
    rdfs:range imf:InputTerminal ;
    rdfs:subPropertyOf imf:hasTerminal ;
    skos:definition "The relation between a system and its input terminals." ;
    skos:prefLabel "has input terminal" .

imf:hasOutputTerminal a owl:ObjectProperty ;
    rdfs:range imf:OutputTerminal ;
    rdfs:subPropertyOf imf:hasTerminal ;
    skos:definition "The relation between a system and its output terminals." ;
    skos:prefLabel "has output terminal" .

imf:FunctionAspect a imf:Aspect ;
    imf:color "#FFFF00" ;
    imf:prefix "=" .

imf:InstalledAspect a imf:Aspect ;
    imf:color "#FFFFFF" ;
    imf:prefix "::" .

imf:InterfacePoint a owl:Class ;
    rdfs:subClassOf [ a owl:Restriction ;
            owl:onClass imf:OutputTerminal ;
            owl:onProperty imf:hasOutputTerminal ;
            owl:qualifiedCardinality "1"^^xsd:nonNegativeInteger ],
        [ a owl:Restriction ;
            owl:onClass imf:InputTerminal ;
            owl:onProperty imf:hasInputTerminal ;
            owl:qualifiedCardinality "1"^^xsd:nonNegativeInteger ],
        imf:AspectObject ;
    skos:altLabel "Connection",
        "Junction",
        "Transport" ;
    skos:definition """

     A simple type of system block that has exactly one input and one
     output. No transformation of the input is performed.

     The connection, in effect, merges the two connected
     terminals. The connection itself has no function or spatial
     significance.

  """ ;
    skos:prefLabel "Interface Point" .

imf:LocationAspect a imf:Aspect ;
    imf:color "#FF00FF" ;
    imf:prefix "+" .

imf:MultiAspectObject a owl:Class ;
    skos:prefLabel "Multi-Aspect Object" ;
    skos:scopeNote """

  A multi-aspect object is a collection of aspect objects that
  describe an asset from different viewpoints (aspects). 

  There are currently no formal restrictions on the aspect objects
  that a multi-aspect object groups together. Hence, a multi-aspect
  object may collect aspect objects of the same aspect, or of
  different aspects.

  """ .

imf:ProductAspect a imf:Aspect ;
    imf:color "#00FFFF" ;
    imf:prefix "-" .

imf:hasTerminal a owl:ObjectProperty ;
    rdfs:domain imf:SystemBlock ;
    rdfs:range imf:Terminal ;
    rdfs:subPropertyOf imf:associativeRelation,
        imf:intraAspectRelation ;
    skos:definition "The relation between a system and its terminals." ;
    skos:prefLabel "has terminal" .

imf:hierarchicalRelation a owl:IrreflexiveProperty,
        owl:ObjectProperty ;
    rdfs:domain imf:AspectObject ;
    rdfs:range imf:AspectObject ;
    rdfs:subPropertyOf skos:semanticRelation ;
    skos:definition "A generic hierachical relation that may be used to represent a breakdown structure." ;
    skos:prefLabel "hierarchical relation" ;
    skos:scopeNote """
    
      This relation is used to enforce that subproperties respect this
      relation's definition. This must be enforced by introducing
      class axioms that locally further restrict the domain and range
      of the relation.
      
    """ .

imf:precedes a owl:ObjectProperty,
        owl:TransitiveProperty ;
    rdfs:domain imf:Terminal ;
    rdfs:range imf:Terminal ;
    rdfs:subPropertyOf imf:associativeRelation,
        imf:intraAspectRelation ;
    skos:definition """

    A relation between terminals that represents the "flow" of
    input/output between teminals, both terminals of the same system
    block (represented by the subproperty directlyPrecedes) and of
    different system blocks (represented by the subproperty
    isConnectedTo).

  """ ;
    skos:prefLabel "precedes" .

imf:associativeRelation a owl:ObjectProperty ;
    rdfs:domain imf:AspectObject ;
    rdfs:range imf:AspectObject ;
    rdfs:subPropertyOf skos:related ;
    owl:propertyDisjointWith imf:hierachicalRelation ;
    skos:definition "A generic associative relation." ;
    skos:prefLabel "associative relation" ;
    skos:scopeNote """
    
      This relation is used to enforce that subproperties respect this
      relation's definition. This must be enforced by introducing
      class axioms that locally further restrict the domain and range
      of the relation.
      
    """ .

imf:SystemBlock a owl:Class ;
    rdfs:subClassOf [ a owl:Restriction ;
            owl:allValuesFrom imf:SystemBlock ;
            owl:onProperty imf:isPartOf ],
        imf:AspectObject ;
    skos:definition """

    A system is a processing (black) box. It processes the input to
    output, possibly changing the state of what is processed.

    Transforms the input from its input terminals to the output to its
    output terminals. The relation between the input and output
    terminals may be complex and may be further described by
    subsystems which are related by hasPart.

    A system may have multiple input and output terminals. A system
    with zero terminals is uncommon.

  """ ;
    skos:prefLabel "System Block" .

imf:isPartOf a owl:FunctionalProperty,
        owl:ObjectProperty ;
    rdfs:domain imf:AspectObject ;
    rdfs:range imf:AspectObject ;
    rdfs:subPropertyOf imf:hierarchicalRelation,
        imf:intraAspectRelation,
        skos:broader ;
    skos:altLabel "is part of" ;
    skos:definition """

    An aspect object is placed in a tree-shaped breakdown structure
    using isPartOf/hasPart relationships. An aspect object may have
    a single parent (the root object has no parent) and possibly
    multiple children. This is an abstraction mechanism. The children
    of an aspect object provide a more detailed description of (parts
    of) its parent.

  """ ;
    skos:prefLabel "has parent" .

imf:hasAspect a owl:ObjectProperty ;
    rdfs:domain imf:AspectObject ;
    rdfs:range imf:Aspect ;
    skos:definition "Relates an aspect object to its aspect." ;
    skos:prefLabel "has aspect" .

imf:Aspect a owl:Class ;
    skos:example "Function, Location, Product are examples of aspects." ;
    skos:prefLabel "Aspect" ;
    skos:scopeNote """

    Each aspect is associated with a class of the aspect objects that
    have that aspect, e.g,. imf:FunctionAspectObject is the class of
    aspect objects with the aspect imf:FunctionAspect. These classes
    are used to specify permissible relationships between aspect
    objects according to their aspect.""",
        """

  viewpoint
  modalitity

  """ .

imf:InputTerminal a owl:Class ;
    rdfs:subClassOf [ a owl:Restriction ;
            owl:allValuesFrom imf:InputTerminal ;
            owl:onProperty imf:isPartOf ],
        imf:Terminal ;
    skos:altLabel "Input" ;
    skos:definition """

    A terminal whose default function is to recieve input for its
    system.

  """ ;
    skos:prefLabel "Input Terminal" .

imf:OutputTerminal a owl:Class ;
    rdfs:subClassOf [ a owl:Restriction ;
            owl:allValuesFrom imf:OutputTerminal ;
            owl:onProperty imf:isPartOf ],
        imf:Terminal ;
    skos:altLabel "Output" ;
    skos:definition """

    A terminal whose default function is to give output for its
    system.

  """ ;
    skos:prefLabel "Output Terminal" .

imf:Terminal a owl:Class ;
    rdfs:subClassOf imf:AspectObject ;
    owl:equivalentClass [ a owl:Class ;
            owl:unionOf ( imf:InputTerminal imf:OutputTerminal ) ] ;
    skos:altLabel "Channel",
        "Input/Output",
        "Port" ;
    skos:definition """

    A port or boundry point through which a system block can interact
    and communicate with the world outside the system, receiving input
    and giving output.

  """ ;
    skos:editorialNote """

     [2022-03-11 Fri] Need to represent the type of a terminal, and
     constraints on connections between typed terminals: material,
     information, energy, structural.

   """ ;
    skos:prefLabel "Terminal" .

imf:intraAspectRelation a owl:ObjectProperty ;
    rdfs:domain imf:AspectObject ;
    rdfs:range imf:AspectObject ;
    rdfs:subPropertyOf skos:semanticRelation ;
    skos:definition "A generic relation between aspect objects of the same aspect" ;
    skos:prefLabel "intra-aspect relation" ;
    skos:scopeNote """
    
      This relation is used to enforce that subproperties respect this
      relation's definition. This must be enforced by introducing
      class axioms that locally further restrict the domain and range
      of the relation.
      
    """ .

imf:AspectObject a owl:Class ;
    rdfs:subClassOf [ a owl:Restriction ;
            owl:onClass imf:Aspect ;
            owl:onProperty imf:hasAspect ;
            owl:qualifiedCardinality "1"^^xsd:nonNegativeInteger ] ;
    owl:equivalentClass [ a owl:Class ;
            owl:unionOf ( imf:SystemBlock imf:Terminal imf:InterfacePoint ) ] ;
    skos:definition """

    An aspect object describes an asset from a specific viewpoint (or
    aspect).

    An aspect object has a single aspect, we say that the aspect
    object "is of" this aspect.

    """ ;
    skos:prefLabel "Aspect Object" ;
    skos:scopeNote """

    Each aspect object is either a system block or a terminal.""" .

[] a owl:AllDisjointClasses ;
    owl:members ( imf:Aspect imf:AspectObject imf:MultiAspectObject ) .

[] a owl:AllDisjointClasses ;
    owl:members ( imf:InputTerminal imf:OutputTerminal ) .

[] a owl:AllDisjointClasses ;
    owl:members ( imf:SystemBlock imf:Terminal imf:InterfacePoint ) .

[] a owl:AllDifferent ;
    owl:members ( imf:FunctionAspect imf:LocationAspect imf:ProductAspect imf:InstalledAspect ) .

