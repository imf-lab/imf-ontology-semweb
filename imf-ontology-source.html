<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<head>
<!-- 2022-03-14 Mon 22:59 -->
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>IMF Ontology</title>
<meta name="generator" content="Org mode" />
<meta name="author" content="Martin G. SkjÃ¦veland" />
<style type="text/css">
 <!--/*--><![CDATA[/*><!--*/
  .title  { text-align: center;
             margin-bottom: .2em; }
  .subtitle { text-align: center;
              font-size: medium;
              font-weight: bold;
              margin-top:0; }
  .todo   { font-family: monospace; color: red; }
  .done   { font-family: monospace; color: green; }
  .priority { font-family: monospace; color: orange; }
  .tag    { background-color: #eee; font-family: monospace;
            padding: 2px; font-size: 80%; font-weight: normal; }
  .timestamp { color: #bebebe; }
  .timestamp-kwd { color: #5f9ea0; }
  .org-right  { margin-left: auto; margin-right: 0px;  text-align: right; }
  .org-left   { margin-left: 0px;  margin-right: auto; text-align: left; }
  .org-center { margin-left: auto; margin-right: auto; text-align: center; }
  .underline { text-decoration: underline; }
  #postamble p, #preamble p { font-size: 90%; margin: .2em; }
  p.verse { margin-left: 3%; }
  pre {
    border: 1px solid #ccc;
    box-shadow: 3px 3px 3px #eee;
    padding: 8pt;
    font-family: monospace;
    overflow: auto;
    margin: 1.2em;
  }
  pre.src {
    position: relative;
    overflow: visible;
    padding-top: 1.2em;
  }
  pre.src:before {
    display: none;
    position: absolute;
    background-color: white;
    top: -10px;
    right: 10px;
    padding: 3px;
    border: 1px solid black;
  }
  pre.src:hover:before { display: inline;}
  /* Languages per Org manual */
  pre.src-asymptote:before { content: 'Asymptote'; }
  pre.src-awk:before { content: 'Awk'; }
  pre.src-C:before { content: 'C'; }
  /* pre.src-C++ doesn't work in CSS */
  pre.src-clojure:before { content: 'Clojure'; }
  pre.src-css:before { content: 'CSS'; }
  pre.src-D:before { content: 'D'; }
  pre.src-ditaa:before { content: 'ditaa'; }
  pre.src-dot:before { content: 'Graphviz'; }
  pre.src-calc:before { content: 'Emacs Calc'; }
  pre.src-emacs-lisp:before { content: 'Emacs Lisp'; }
  pre.src-fortran:before { content: 'Fortran'; }
  pre.src-gnuplot:before { content: 'gnuplot'; }
  pre.src-haskell:before { content: 'Haskell'; }
  pre.src-hledger:before { content: 'hledger'; }
  pre.src-java:before { content: 'Java'; }
  pre.src-js:before { content: 'Javascript'; }
  pre.src-latex:before { content: 'LaTeX'; }
  pre.src-ledger:before { content: 'Ledger'; }
  pre.src-lisp:before { content: 'Lisp'; }
  pre.src-lilypond:before { content: 'Lilypond'; }
  pre.src-lua:before { content: 'Lua'; }
  pre.src-matlab:before { content: 'MATLAB'; }
  pre.src-mscgen:before { content: 'Mscgen'; }
  pre.src-ocaml:before { content: 'Objective Caml'; }
  pre.src-octave:before { content: 'Octave'; }
  pre.src-org:before { content: 'Org mode'; }
  pre.src-oz:before { content: 'OZ'; }
  pre.src-plantuml:before { content: 'Plantuml'; }
  pre.src-processing:before { content: 'Processing.js'; }
  pre.src-python:before { content: 'Python'; }
  pre.src-R:before { content: 'R'; }
  pre.src-ruby:before { content: 'Ruby'; }
  pre.src-sass:before { content: 'Sass'; }
  pre.src-scheme:before { content: 'Scheme'; }
  pre.src-screen:before { content: 'Gnu Screen'; }
  pre.src-sed:before { content: 'Sed'; }
  pre.src-sh:before { content: 'shell'; }
  pre.src-sql:before { content: 'SQL'; }
  pre.src-sqlite:before { content: 'SQLite'; }
  /* additional languages in org.el's org-babel-load-languages alist */
  pre.src-forth:before { content: 'Forth'; }
  pre.src-io:before { content: 'IO'; }
  pre.src-J:before { content: 'J'; }
  pre.src-makefile:before { content: 'Makefile'; }
  pre.src-maxima:before { content: 'Maxima'; }
  pre.src-perl:before { content: 'Perl'; }
  pre.src-picolisp:before { content: 'Pico Lisp'; }
  pre.src-scala:before { content: 'Scala'; }
  pre.src-shell:before { content: 'Shell Script'; }
  pre.src-ebnf2ps:before { content: 'ebfn2ps'; }
  /* additional language identifiers per "defun org-babel-execute"
       in ob-*.el */
  pre.src-cpp:before  { content: 'C++'; }
  pre.src-abc:before  { content: 'ABC'; }
  pre.src-coq:before  { content: 'Coq'; }
  pre.src-groovy:before  { content: 'Groovy'; }
  /* additional language identifiers from org-babel-shell-names in
     ob-shell.el: ob-shell is the only babel language using a lambda to put
     the execution function name together. */
  pre.src-bash:before  { content: 'bash'; }
  pre.src-csh:before  { content: 'csh'; }
  pre.src-ash:before  { content: 'ash'; }
  pre.src-dash:before  { content: 'dash'; }
  pre.src-ksh:before  { content: 'ksh'; }
  pre.src-mksh:before  { content: 'mksh'; }
  pre.src-posh:before  { content: 'posh'; }
  /* Additional Emacs modes also supported by the LaTeX listings package */
  pre.src-ada:before { content: 'Ada'; }
  pre.src-asm:before { content: 'Assembler'; }
  pre.src-caml:before { content: 'Caml'; }
  pre.src-delphi:before { content: 'Delphi'; }
  pre.src-html:before { content: 'HTML'; }
  pre.src-idl:before { content: 'IDL'; }
  pre.src-mercury:before { content: 'Mercury'; }
  pre.src-metapost:before { content: 'MetaPost'; }
  pre.src-modula-2:before { content: 'Modula-2'; }
  pre.src-pascal:before { content: 'Pascal'; }
  pre.src-ps:before { content: 'PostScript'; }
  pre.src-prolog:before { content: 'Prolog'; }
  pre.src-simula:before { content: 'Simula'; }
  pre.src-tcl:before { content: 'tcl'; }
  pre.src-tex:before { content: 'TeX'; }
  pre.src-plain-tex:before { content: 'Plain TeX'; }
  pre.src-verilog:before { content: 'Verilog'; }
  pre.src-vhdl:before { content: 'VHDL'; }
  pre.src-xml:before { content: 'XML'; }
  pre.src-nxml:before { content: 'XML'; }
  /* add a generic configuration mode; LaTeX export needs an additional
     (add-to-list 'org-latex-listings-langs '(conf " ")) in .emacs */
  pre.src-conf:before { content: 'Configuration File'; }

  table { border-collapse:collapse; }
  caption.t-above { caption-side: top; }
  caption.t-bottom { caption-side: bottom; }
  td, th { vertical-align:top;  }
  th.org-right  { text-align: center;  }
  th.org-left   { text-align: center;   }
  th.org-center { text-align: center; }
  td.org-right  { text-align: right;  }
  td.org-left   { text-align: left;   }
  td.org-center { text-align: center; }
  dt { font-weight: bold; }
  .footpara { display: inline; }
  .footdef  { margin-bottom: 1em; }
  .figure { padding: 1em; }
  .figure p { text-align: center; }
  .inlinetask {
    padding: 10px;
    border: 2px solid gray;
    margin: 10px;
    background: #ffffcc;
  }
  #org-div-home-and-up
   { text-align: right; font-size: 70%; white-space: nowrap; }
  textarea { overflow-x: auto; }
  .linenr { font-size: smaller }
  .code-highlighted { background-color: #ffff00; }
  .org-info-js_info-navigation { border-style: none; }
  #org-info-js_console-label
    { font-size: 10px; font-weight: bold; white-space: nowrap; }
  .org-info-js_search-highlight
    { background-color: #ffff00; color: #000000; font-weight: bold; }
  .org-svg { width: 90%; }
  /*]]>*/-->
</style>
<script type="text/javascript">
/*
@licstart  The following is the entire license notice for the
JavaScript code in this tag.

Copyright (C) 2012-2018 Free Software Foundation, Inc.

The JavaScript code in this tag is free software: you can
redistribute it and/or modify it under the terms of the GNU
General Public License (GNU GPL) as published by the Free Software
Foundation, either version 3 of the License, or (at your option)
any later version.  The code is distributed WITHOUT ANY WARRANTY;
without even the implied warranty of MERCHANTABILITY or FITNESS
FOR A PARTICULAR PURPOSE.  See the GNU GPL for more details.

As additional permission under GNU GPL version 3 section 7, you
may distribute non-source (e.g., minimized or compacted) forms of
that code without the copy of the GNU GPL normally required by
section 4, provided you include this license notice and a URL
through which recipients can access the Corresponding Source.


@licend  The above is the entire license notice
for the JavaScript code in this tag.
*/
<!--/*--><![CDATA[/*><!--*/
 function CodeHighlightOn(elem, id)
 {
   var target = document.getElementById(id);
   if(null != target) {
     elem.cacheClassElem = elem.className;
     elem.cacheClassTarget = target.className;
     target.className = "code-highlighted";
     elem.className   = "code-highlighted";
   }
 }
 function CodeHighlightOff(elem, id)
 {
   var target = document.getElementById(id);
   if(elem.cacheClassElem)
     elem.className = elem.cacheClassElem;
   if(elem.cacheClassTarget)
     target.className = elem.cacheClassTarget;
 }
/*]]>*///-->
</script>
</head>
<body>
<div id="content">
<h1 class="title">IMF Ontology</h1>
<div id="table-of-contents">
<h2>Table of Contents</h2>
<div id="text-table-of-contents">
<ul>
<li><a href="#orgaea9993">1. Namespace and identifiers and filenames</a></li>
<li><a href="#org32d2fb2">2. IMF Ontology</a>
<ul>
<li><a href="#org07dfb00">2.1. Ontology source</a></li>
<li><a href="#org6511e63">2.2. Import hierarchy</a></li>
</ul>
</li>
<li><a href="#orgb92ac31">3. IMF Top Ontology</a>
<ul>
<li><a href="#org937eccd">3.1. Overview</a></li>
<li><a href="#org9dc0e9e">3.2. Ontology source</a>
<ul>
<li><a href="#org5afaf79">3.2.1. Header</a></li>
<li><a href="#org0aa5844">3.2.2. <code>AspectObject</code></a></li>
<li><a href="#orgf169566">3.2.3. <code>Aspect</code></a></li>
<li><a href="#org3c1a98f">3.2.4. <code>IntegratedObject</code></a></li>
<li><a href="#org42eb8ea">3.2.5. Structural relations</a></li>
</ul>
</li>
<li><a href="#org0f179f6">3.3. SHACL shapes</a></li>
</ul>
</li>
<li><a href="#orga11ea84">4. IMF Metamodel Ontology</a>
<ul>
<li><a href="#orgbef651b">4.1. Overview</a></li>
<li><a href="#orgc46aa81">4.2. Ontology source</a>
<ul>
<li><a href="#org4c8a2b2">4.2.1. Header</a></li>
<li><a href="#org1b9f2d0">4.2.2. <code>AspectObject</code></a></li>
<li><a href="#org6b18197">4.2.3. <code>hasParent</code> / <code>hasChild</code></a></li>
<li><a href="#org78db86d">4.2.4. <code>precedes</code></a></li>
<li><a href="#org065bd31">4.2.5. <code>SystemBlock</code></a></li>
<li><a href="#orgbc9490c">4.2.6. <code>Terminal</code> and its subclasses and relations</a></li>
<li><a href="#orgcdf1ec9">4.2.7. <code>Connection</code> and its relations</a></li>
</ul>
</li>
<li><a href="#orge1dc729">4.3. SHACL shapes</a></li>
</ul>
</li>
<li><a href="#org71f1e43">5. IMF Aspects Ontology</a>
<ul>
<li><a href="#orgbb28312">5.1. Overview</a></li>
<li><a href="#org0ed56ba">5.2. Ontology source</a>
<ul>
<li><a href="#org7e2f7f8">5.2.1. Header</a></li>
<li><a href="#orgca7fcbb">5.2.2. <code>Aspect</code></a></li>
<li><a href="#org657657d">5.2.3. Aspects</a></li>
<li><a href="#org4bcbd90">5.2.4. Inter-aspect relationships</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#orgddad1d5">6. <span class="todo TODO">TODO</span> Attribute data aka. Quantities</a></li>
<li><a href="#org0d3897d">7. <span class="todo TODO">TODO</span> Types</a></li>
<li><a href="#org2e30556">8. <span class="todo TODO">TODO</span> Visualisation Ontology</a></li>
<li><a href="#org24b210e">9. Summary of IMF OWL ontologies and SHACL shapes</a>
<ul>
<li><a href="#org001a269">9.1. Classes</a></li>
<li><a href="#org991f631">9.2. Properties</a></li>
<li><a href="#org5464c5d">9.3. OWL ontologies combined to one file</a></li>
<li><a href="#org0ce669b">9.4. SHACL constraints combined to one file</a></li>
</ul>
</li>
<li><a href="#orgaffff48">10. IMF data</a>
<ul>
<li><a href="#org69f7bdb">10.1. Serialisation formats</a></li>
<li><a href="#org149b160">10.2. OTTR templates</a></li>
<li><a href="#org39d8d4c">10.3. Example data: Coffee machine</a>
<ul>
<li><a href="#orgcbf918d">10.3.1. Data as OTTR instances in tabular form</a></li>
<li><a href="#org8110014">10.3.2. Data as OTTR instances in RDF syntax</a></li>
<li><a href="#org3d93b3e">10.3.3. Data as as RDF turtle</a></li>
<li><a href="#orgcf0dd65">10.3.4. Validate RDF using SHACL</a></li>
<li><a href="#orgc77ef2e">10.3.5. Visualise RDF data</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#orgdc9e262">11. Software</a>
<ul>
<li><a href="#org8213341">11.1. Apache Jena</a>
<ul>
<li><a href="#org00e6525">11.1.1. RIOT</a></li>
<li><a href="#org0fb945e">11.1.2. SHACL</a></li>
<li><a href="#org72b1636">11.1.3. SPARQL</a></li>
</ul>
</li>
<li><a href="#org12efddf">11.2. Lutra</a></li>
<li><a href="#org5d32fbd">11.3. RDFVizler with rules</a>
<ul>
<li><a href="#org756bb4e">11.3.1. Script calls</a></li>
<li><a href="#orgc69246b">11.3.2. Ontology import hierarchy</a></li>
<li><a href="#org9803d60">11.3.3. Ontology overview</a></li>
<li><a href="#org5fd9d1a">11.3.4. <span class="todo TODO">TODO</span> IMF data</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#org6c983ba">12. Appendix</a>
<ul>
<li><a href="#orgee2c472">12.1. Prefixes</a>
<ul>
<li><a href="#org12fc8a3">12.1.1. Standard vocabulary prefixes</a></li>
<li><a href="#org2e2c8b8">12.1.2. IMF prefixes</a></li>
<li><a href="#orge96e47b">12.1.3. OTTR template prefixes</a></li>
</ul>
</li>
<li><a href="#orgcf8d426">12.2. SKOS</a>
<ul>
<li><a href="#org2106e8b">12.2.1. General documentation properties</a></li>
<li><a href="#org25ac488">12.2.2. Editorial properties</a></li>
</ul>
</li>
<li><a href="#org8713ac6">12.3. OTTR templates for SHACL Shapes</a>
<ul>
<li><a href="#org9e164f5">12.3.1. Table templates input schemata</a></li>
<li><a href="#org080b1a7">12.3.2. OTTR templates</a></li>
<li><a href="#org982a141">12.3.3. Example</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>

<div id="outline-container-orgaea9993" class="outline-2">
<h2 id="orgaea9993"><span class="section-number-2">1</span> Namespace and identifiers and filenames</h2>
<div class="outline-text-2" id="text-1">
<p>
The namespace for resources used by the IMF ontology and other
publicly available online resources should be:
</p>

<pre class="example">
http://ns.imfid.org/imf#

</pre>

<p>
The identifier schema for different IMF ontology versions are:
</p>

<pre class="example">
http://ns.imfid.org/ontology/[yyyy-mm-dd]/[ontology-name]

</pre>

<p>
The ontology will be published at their address. The resources
(classes, properties, individuals) are made resolvable by publishing a
merged ontology of all ontology files at the <code>imf</code> namespace address.
</p>
</div>
</div>

<div id="outline-container-org32d2fb2" class="outline-2">
<h2 id="org32d2fb2"><span class="section-number-2">2</span> IMF Ontology</h2>
<div class="outline-text-2" id="text-2">
<p>
The IMF ontology specified in this document using a series of code
snippets which are compiled to different OWL files serialised in RDF
turtle syntax.
</p>

<p>
In order not to duplicate and to avoid synchronisation issues, the
definition and description of the ontology and its contents are put
directly in the ontology sources, please read these for more
information.
</p>
</div>

<div id="outline-container-org07dfb00" class="outline-3">
<h3 id="org07dfb00"><span class="section-number-3">2.1</span> Ontology source</h3>
<div class="outline-text-3" id="text-2-1">
<div class="org-src-container">
<pre class="src src-ttl" id="org31a50ae">

&lt;http://ns.imfid.org/imf&gt; a owl:Ontology ;
    owl:versionIRI &lt;http://ns.imfid.org/ontology/[unreleased]/imf&gt; ;
    owl:imports 
      &lt;http://ns.imfid.org/ontology/[unreleased]/imf-top&gt; ,
      &lt;http://ns.imfid.org/ontology/[unreleased]/imf-metamodel&gt; ,
      &lt;http://ns.imfid.org/ontology/[unreleased]/imf-aspects&gt; ;
    skos:prefLabel "Information Modelling Framework Ontology " ;
    skos:altLabel "IMF ontology" ;
    skos:scopeNote """

      This is the main IMF ontology and its main point of entry.  This
      ontology document imports all other IMF ontology documents, each
      of which focus on one particular part of the ontology:

      1. IMF Top defines the very high-level classes and properties of
      the IMF ontology, such as AspectObject.

      2. IMF Metamodel defines the metamodel for aspect objects and
      their permissible properties.

      3. IMF Aspects defines the aspects that are available to aspect
      objects.

    """;

    .
</pre>
</div>
</div>
</div>

<div id="outline-container-org6511e63" class="outline-3">
<h3 id="org6511e63"><span class="section-number-3">2.2</span> Import hierarchy</h3>
<div class="outline-text-3" id="text-2-2">
<p>
The diagram displays the different ontology documents that the IMF
ontology consists of and the import relations that exist between
these.
</p>

<pre class="example">
Exception in thread "main" picocli.CommandLine$ExecutionException: Error while running command (xyz.dyreriket.rdfvizler.cli.RDFVizlerCLI@7c83dc97): org.apache.jena.ttl.turtle.TurtleParseException: Line 9, column 17: org.apache.jena.iri.impl.IRIImplException: &lt;http://ns.imfid.org/ontology/[unreleased]/imf-aspects&gt; Code: 0/ILLEGAL_CHARACTER in PATH: The character violates the grammar rules for URIs/IRIs.
	at picocli.CommandLine.execute(CommandLine.java:1056)
	at picocli.CommandLine.access$900(CommandLine.java:142)
	at picocli.CommandLine$RunLast.handle(CommandLine.java:1255)
	at picocli.CommandLine$RunLast.handle(CommandLine.java:1223)
	at picocli.CommandLine$AbstractParseResultHandler.handleParseResult(CommandLine.java:1131)
	at picocli.CommandLine.parseWithHandlers(CommandLine.java:1414)
	at picocli.CommandLine.run(CommandLine.java:1878)
	at picocli.CommandLine.run(CommandLine.java:1808)
	at xyz.dyreriket.rdfvizler.cli.RDFVizlerCLI.main(RDFVizlerCLI.java:129)
Caused by: org.apache.jena.ttl.turtle.TurtleParseException: Line 9, column 17: org.apache.jena.iri.impl.IRIImplException: &lt;http://ns.imfid.org/ontology/[unreleased]/imf-aspects&gt; Code: 0/ILLEGAL_CHARACTER in PATH: The character violates the grammar rules for URIs/IRIs.
	at org.apache.jena.ttl.turtle.TurtleParserBase.throwParseException(TurtleParserBase.java:286)
	at org.apache.jena.ttl.turtle.TurtleParserBase._resolveIRI(TurtleParserBase.java:199)
	at org.apache.jena.ttl.turtle.TurtleParserBase.resolveIRI(TurtleParserBase.java:192)
	at org.apache.jena.ttl.turtle.TurtleParserBase.resolveQuotedIRI(TurtleParserBase.java:183)
	at org.apache.jena.ttl.turtle.parser.TurtleParser.IRI_REF(TurtleParser.java:738)
	at org.apache.jena.ttl.turtle.parser.TurtleParser.IRIref(TurtleParser.java:681)
	at org.apache.jena.ttl.turtle.parser.TurtleParser.GraphTerm(TurtleParser.java:496)
	at org.apache.jena.ttl.turtle.parser.TurtleParser.VarOrTerm(TurtleParser.java:420)
	at org.apache.jena.ttl.turtle.parser.TurtleParser.GraphNode(TurtleParser.java:383)
	at org.apache.jena.ttl.turtle.parser.TurtleParser.Object(TurtleParser.java:236)
	at org.apache.jena.ttl.turtle.parser.TurtleParser.ObjectList(TurtleParser.java:218)
	at org.apache.jena.ttl.turtle.parser.TurtleParser.PropertyListNotEmpty(TurtleParser.java:206)
	at org.apache.jena.ttl.turtle.parser.TurtleParser.TriplesSameSubject(TurtleParser.java:151)
	at org.apache.jena.ttl.turtle.parser.TurtleParser.Statement(TurtleParser.java:97)
	at org.apache.jena.ttl.turtle.parser.TurtleParser.parse(TurtleParser.java:67)
	at org.apache.jena.ttl.turtle.ParserTurtle.parse(ParserTurtle.java:48)
	at org.apache.jena.ttl.turtle.TurtleReader.readWorker(TurtleReader.java:36)
	at org.apache.jena.ttl.JenaReaderBase.readImpl(JenaReaderBase.java:116)
	at org.apache.jena.ttl.JenaReaderBase.read(JenaReaderBase.java:81)
	at org.apache.jena.rdf.model.impl.ModelCom.read(ModelCom.java:253)
	at org.apache.jena.util.FileManagerImpl.readModelWorker(FileManagerImpl.java:438)
	at org.apache.jena.util.FileManagerImpl.loadModelWorker(FileManagerImpl.java:340)
	at org.apache.jena.util.FileManagerImpl.loadModel(FileManagerImpl.java:308)
	at xyz.dyreriket.rdfvizler.util.Models.readModel(Models.java:65)
	at xyz.dyreriket.rdfvizler.util.Models.readModel(Models.java:54)
	at xyz.dyreriket.rdfvizler.RDFVizler.readModel(RDFVizler.java:59)
	at xyz.dyreriket.rdfvizler.RDFVizler.writeDotGraph(RDFVizler.java:111)
	at xyz.dyreriket.rdfvizler.RDFVizler.write(RDFVizler.java:99)
	at xyz.dyreriket.rdfvizler.cli.RDFVizlerCLI.processFile(RDFVizlerCLI.java:152)
	at xyz.dyreriket.rdfvizler.cli.RDFVizlerCLI.run(RDFVizlerCLI.java:162)
	at picocli.CommandLine.execute(CommandLine.java:1048)
	... 8 more
</pre>


<div class="figure">
<p><object type="image/svg+xml" data="./owl/ontology-import-hierarchy.svg" class="org-svg">
Sorry, your browser does not support SVG.</object>
</p>
</div>
</div>
</div>
</div>

<div id="outline-container-orgb92ac31" class="outline-2">
<h2 id="orgb92ac31"><span class="section-number-2">3</span> IMF Top Ontology</h2>
<div class="outline-text-2" id="text-3">
</div>
<div id="outline-container-org937eccd" class="outline-3">
<h3 id="org937eccd"><span class="section-number-3">3.1</span> Overview</h3>
<div class="outline-text-3" id="text-3-1">
<pre class="example">
Exception in thread "main" picocli.CommandLine$ExecutionException: Error while running command (xyz.dyreriket.rdfvizler.cli.RDFVizlerCLI@7c83dc97): org.apache.jena.ttl.turtle.TurtleParseException: Line 19, column 20: org.apache.jena.iri.impl.IRIImplException: &lt;http://ns.imfid.org/ontology/[unreleased]/imf-top&gt; Code: 0/ILLEGAL_CHARACTER in PATH: The character violates the grammar rules for URIs/IRIs.
	at picocli.CommandLine.execute(CommandLine.java:1056)
	at picocli.CommandLine.access$900(CommandLine.java:142)
	at picocli.CommandLine$RunLast.handle(CommandLine.java:1255)
	at picocli.CommandLine$RunLast.handle(CommandLine.java:1223)
	at picocli.CommandLine$AbstractParseResultHandler.handleParseResult(CommandLine.java:1131)
	at picocli.CommandLine.parseWithHandlers(CommandLine.java:1414)
	at picocli.CommandLine.run(CommandLine.java:1878)
	at picocli.CommandLine.run(CommandLine.java:1808)
	at xyz.dyreriket.rdfvizler.cli.RDFVizlerCLI.main(RDFVizlerCLI.java:129)
Caused by: org.apache.jena.ttl.turtle.TurtleParseException: Line 19, column 20: org.apache.jena.iri.impl.IRIImplException: &lt;http://ns.imfid.org/ontology/[unreleased]/imf-top&gt; Code: 0/ILLEGAL_CHARACTER in PATH: The character violates the grammar rules for URIs/IRIs.
	at org.apache.jena.ttl.turtle.TurtleParserBase.throwParseException(TurtleParserBase.java:286)
	at org.apache.jena.ttl.turtle.TurtleParserBase._resolveIRI(TurtleParserBase.java:199)
	at org.apache.jena.ttl.turtle.TurtleParserBase.resolveIRI(TurtleParserBase.java:192)
	at org.apache.jena.ttl.turtle.TurtleParserBase.resolveQuotedIRI(TurtleParserBase.java:183)
	at org.apache.jena.ttl.turtle.parser.TurtleParser.IRI_REF(TurtleParser.java:738)
	at org.apache.jena.ttl.turtle.parser.TurtleParser.IRIref(TurtleParser.java:681)
	at org.apache.jena.ttl.turtle.parser.TurtleParser.GraphTerm(TurtleParser.java:496)
	at org.apache.jena.ttl.turtle.parser.TurtleParser.VarOrTerm(TurtleParser.java:420)
	at org.apache.jena.ttl.turtle.parser.TurtleParser.GraphNode(TurtleParser.java:383)
	at org.apache.jena.ttl.turtle.parser.TurtleParser.Object(TurtleParser.java:236)
	at org.apache.jena.ttl.turtle.parser.TurtleParser.ObjectList(TurtleParser.java:218)
	at org.apache.jena.ttl.turtle.parser.TurtleParser.PropertyListNotEmpty(TurtleParser.java:206)
	at org.apache.jena.ttl.turtle.parser.TurtleParser.TriplesSameSubject(TurtleParser.java:151)
	at org.apache.jena.ttl.turtle.parser.TurtleParser.Statement(TurtleParser.java:97)
	at org.apache.jena.ttl.turtle.parser.TurtleParser.parse(TurtleParser.java:67)
	at org.apache.jena.ttl.turtle.ParserTurtle.parse(ParserTurtle.java:48)
	at org.apache.jena.ttl.turtle.TurtleReader.readWorker(TurtleReader.java:36)
	at org.apache.jena.ttl.JenaReaderBase.readImpl(JenaReaderBase.java:116)
	at org.apache.jena.ttl.JenaReaderBase.read(JenaReaderBase.java:81)
	at org.apache.jena.rdf.model.impl.ModelCom.read(ModelCom.java:253)
	at org.apache.jena.util.FileManagerImpl.readModelWorker(FileManagerImpl.java:438)
	at org.apache.jena.util.FileManagerImpl.loadModelWorker(FileManagerImpl.java:340)
	at org.apache.jena.util.FileManagerImpl.loadModel(FileManagerImpl.java:308)
	at xyz.dyreriket.rdfvizler.util.Models.readModel(Models.java:65)
	at xyz.dyreriket.rdfvizler.util.Models.readModel(Models.java:54)
	at xyz.dyreriket.rdfvizler.RDFVizler.readModel(RDFVizler.java:59)
	at xyz.dyreriket.rdfvizler.RDFVizler.writeDotGraph(RDFVizler.java:111)
	at xyz.dyreriket.rdfvizler.RDFVizler.write(RDFVizler.java:99)
	at xyz.dyreriket.rdfvizler.cli.RDFVizlerCLI.processFile(RDFVizlerCLI.java:152)
	at xyz.dyreriket.rdfvizler.cli.RDFVizlerCLI.run(RDFVizlerCLI.java:162)
	at picocli.CommandLine.execute(CommandLine.java:1048)
	... 8 more
</pre>


<div class="figure">
<p><object type="image/svg+xml" data="./owl/imf-top-overview.svg" class="org-svg">
Sorry, your browser does not support SVG.</object>
</p>
</div>
</div>
</div>

<div id="outline-container-org9dc0e9e" class="outline-3">
<h3 id="org9dc0e9e"><span class="section-number-3">3.2</span> Ontology source</h3>
<div class="outline-text-3" id="text-3-2">
</div>
<div id="outline-container-org5afaf79" class="outline-4">
<h4 id="org5afaf79"><span class="section-number-4">3.2.1</span> Header</h4>
<div class="outline-text-4" id="text-3-2-1">
<div class="org-src-container">
<pre class="src src-ttl" id="orga00302a">

&lt;http://ns.imfid.org/imf-top&gt; a owl:Ontology ;
    owl:versionIRI &lt;http://ns.imfid.org/ontology/[unreleased]/imf-top&gt; ;
    owl:imports &lt;http://www.w3.org/2004/02/skos/core&gt; ;
    skos:prefLabel "Information Modelling Framework Ontology: Top Ontology " ;
    skos:altLabel "IMF top ontology" ;
    skos:scopeNote """

      This ontology defines the very core classes and relations of the
      Information Modelling Framework (IMF) that provide a structure
      for ontologies that extend this ontology.

    """;

    .

 
 
 

</pre>
</div>
</div>
</div>

<div id="outline-container-org0aa5844" class="outline-4">
<h4 id="org0aa5844"><span class="section-number-4">3.2.2</span> <code>AspectObject</code></h4>
<div class="outline-text-4" id="text-3-2-2">
<div class="org-src-container">
<pre class="src src-ttl" id="org5a74511">imf:AspectObject a owl:Class ;

  skos:prefLabel "Aspect Object";

  skos:definition """

    Aspect object is the most central concept of the IMF ontology.

    An aspect object describes a specific type of feature (or aspect)
    of one (and exactly one) integrated object.

    An aspect object must have a single aspect, we say that the
    aspect object "is of" this aspect.  

    """;
  .

### properties

imf:isAspectOf a owl:ObjectProperty ;
  skos:prefLabel "is aspect of" ;
  skos:definition """

    Relates an aspect object to the integrated object the aspect
    object provides a specification for/description of.""";

  rdfs:domain imf:AspectObject ;
  rdfs:range imf:IntegratedObject .

# An aspect object is related to exactly one integrated object, i.e.,
# one aspect object cannot be used for multiple integrated objects
[] ottr:of o-owl-ax:SubObjectExactCardinality ; 
   ottr:values ( imf:AspectObject "1"^^xsd:nonNegativeInteger imf:isAspectOf imf:IntegratedObject ) .


imf:hasAspect a owl:ObjectProperty ;
  skos:prefLabel "has aspect" ;
  skos:definition "Relates an aspect object to its aspect.";
  rdfs:domain imf:AspectObject ;
  rdfs:range imf:Aspect .


# An aspect object has/is of exactly one aspect:
[] ottr:of o-owl-ax:SubObjectExactCardinality ;
   ottr:values ( imf:AspectObject "1"^^xsd:nonNegativeInteger imf:hasAspect imf:Aspect ) .

</pre>
</div>
</div>
</div>

<div id="outline-container-orgf169566" class="outline-4">
<h4 id="orgf169566"><span class="section-number-4">3.2.3</span> <code>Aspect</code></h4>
<div class="outline-text-4" id="text-3-2-3">
<div class="org-src-container">
<pre class="src src-ttl" id="org135df1b">imf:Aspect a owl:Class ;
  skos:prefLabel "Aspect";
  #skos:definition """TODO""";
  skos:example """Function, Location, Product are examples of aspects.""";

  .
</pre>
</div>
</div>
</div>

<div id="outline-container-org3c1a98f" class="outline-4">
<h4 id="org3c1a98f"><span class="section-number-4">3.2.4</span> <code>IntegratedObject</code></h4>
<div class="outline-text-4" id="text-3-2-4">
<div class="org-src-container">
<pre class="src src-ttl" id="org52979ae">imf:IntegratedObject a owl:Class ;

  skos:prefLabel "Integrated Object" ;
  #skos:definition """TODO""";
  skos:scopeNote """

    The primary use of the IMF ontology is to specify requirements for
    entities, where 'entity' is ment in a very generic sense; an
    entity may be abstract or concrete, a high-level system, a product
    class or an installed product. In the ontology these entities are
    called integrated objects.

    Following the IMF methodology, an intergrated object is not
    described directly, but through typically multiple aspects
    objects, see also imf:AspectObject.""" ;

  skos:editorialNote """

    [2022-01-19 Wed] Is it the case that an integrated object can only
    have one aspect of the same aspect? 

    """ .

[] ottr:of o-owl-ax:DisjointClasses ;
   ottr:values( ( imf:Aspect imf:AspectObject imf:IntegratedObject ) ) .
</pre>
</div>
</div>
</div>

<div id="outline-container-org42eb8ea" class="outline-4">
<h4 id="org42eb8ea"><span class="section-number-4">3.2.5</span> Structural relations</h4>
<div class="outline-text-4" id="text-3-2-5">
<p>
The following scope note is put on all following top-level relations:
</p>
<div class="org-src-container">
<pre class="src src-ttl" id="org357462f">skos:scopeNote """

  This relation is used to enforce that subproperties respect this
  relation's definition. This must be enforced by introducing
  class axioms that locally further restrict the domain and range
  of the relation.
  
"""
</pre>
</div>

<div class="org-src-container">
<pre class="src src-ttl" id="org5d60a4d">imf:intraAspectRelation a owl:ObjectProperty ;
    skos:prefLabel "intra-aspect relation";
    rdfs:subPropertyOf skos:semanticRelation ;
    rdfs:domain imf:AspectObject ;
    rdfs:range imf:AspectObject ;
    skos:definition "A generic relation between aspect objects of the same aspect" ;
    
    .

imf:hierarchicalRelation a owl:ObjectProperty ;
    a owl:IrreflexiveProperty ;
    skos:prefLabel "hierarchical relation";
    rdfs:subPropertyOf skos:semanticRelation ;
    rdfs:domain imf:AspectObject ;
    rdfs:range imf:AspectObject ;
    skos:definition "A generic hierachical relation that may be used to represent a breakdown structure." ;
    
    .

imf:associativeRelation a owl:ObjectProperty ;
    skos:prefLabel "associative relation";
    rdfs:subPropertyOf skos:related ;
    owl:propertyDisjointWith imf:hierachicalRelation ;
    rdfs:domain imf:AspectObject ;
    rdfs:range imf:AspectObject ;
    skos:definition "A generic associative relation." ;
    
    .
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-org0f179f6" class="outline-3">
<h3 id="org0f179f6"><span class="section-number-3">3.3</span> SHACL shapes</h3>
<div class="outline-text-3" id="text-3-3">
<p>
These SHACL shape constaints are defined using the OTTR templates
specified in the appendix: <a href="#org8713ac6">12.3</a>
</p>

<p>
Node shapes:
</p>

<table id="org10187d9" border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-left" />

<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<thead>
<tr>
<th scope="col" class="org-left">nodeshape</th>
<th scope="col" class="org-left">targetClass</th>
<th scope="col" class="org-left">closed</th>
<th scope="col" class="org-left">ignoredProperties</th>
</tr>
</thead>
<tbody>
<tr>
<td class="org-left">imf:AspectObjectShape</td>
<td class="org-left">imf:AspectObject</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">&#xa0;</td>
</tr>
</tbody>
</table>

<p>
Path shapes:
</p>

<table id="org05e4912" border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-left" />

<col  class="org-left" />

<col  class="org-left" />

<col  class="org-right" />

<col  class="org-right" />

<col  class="org-left" />

<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<thead>
<tr>
<th scope="col" class="org-left">nodeshape</th>
<th scope="col" class="org-left">path</th>
<th scope="col" class="org-left">message</th>
<th scope="col" class="org-left">severity</th>
<th scope="col" class="org-right">mincount</th>
<th scope="col" class="org-right">maxcount</th>
<th scope="col" class="org-left">class</th>
<th scope="col" class="org-left">datatype</th>
<th scope="col" class="org-left">in-values</th>
</tr>
</thead>
<tbody>
<tr>
<td class="org-left">imf:AspectObjectShape</td>
<td class="org-left">skos:prefLabel</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">sh:Warning</td>
<td class="org-right">1</td>
<td class="org-right">1</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">xsd:string</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left">imf:AspectObjectShape</td>
<td class="org-left">imf:hasParent</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">1</td>
<td class="org-left">imf:AspectObject</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left">imf:AspectObjectShape</td>
<td class="org-left">imf:hasChild</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-left">imf:AspectObject</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left">imf:AspectObjectShape</td>
<td class="org-left">imf:hasAspect</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">&#xa0;</td>
<td class="org-right">1</td>
<td class="org-right">1</td>
<td class="org-left">imf:Aspect</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left">imf:AspectObjectShape</td>
<td class="org-left">imf:isAspectOf</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">1</td>
<td class="org-left">imf:IntegratedObject</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">&#xa0;</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>

<div id="outline-container-orga11ea84" class="outline-2">
<h2 id="orga11ea84"><span class="section-number-2">4</span> IMF Metamodel Ontology</h2>
<div class="outline-text-2" id="text-4">
</div>
<div id="outline-container-orgbef651b" class="outline-3">
<h3 id="orgbef651b"><span class="section-number-3">4.1</span> Overview</h3>
<div class="outline-text-3" id="text-4-1">
<pre class="example">
Exception in thread "main" picocli.CommandLine$ExecutionException: Error while running command (xyz.dyreriket.rdfvizler.cli.RDFVizlerCLI@7c83dc97): org.apache.jena.ttl.turtle.TurtleParseException: Line 19, column 20: org.apache.jena.iri.impl.IRIImplException: &lt;http://ns.imfid.org/ontology/[unreleased]/imf-metamodel&gt; Code: 0/ILLEGAL_CHARACTER in PATH: The character violates the grammar rules for URIs/IRIs.
	at picocli.CommandLine.execute(CommandLine.java:1056)
	at picocli.CommandLine.access$900(CommandLine.java:142)
	at picocli.CommandLine$RunLast.handle(CommandLine.java:1255)
	at picocli.CommandLine$RunLast.handle(CommandLine.java:1223)
	at picocli.CommandLine$AbstractParseResultHandler.handleParseResult(CommandLine.java:1131)
	at picocli.CommandLine.parseWithHandlers(CommandLine.java:1414)
	at picocli.CommandLine.run(CommandLine.java:1878)
	at picocli.CommandLine.run(CommandLine.java:1808)
	at xyz.dyreriket.rdfvizler.cli.RDFVizlerCLI.main(RDFVizlerCLI.java:129)
Caused by: org.apache.jena.ttl.turtle.TurtleParseException: Line 19, column 20: org.apache.jena.iri.impl.IRIImplException: &lt;http://ns.imfid.org/ontology/[unreleased]/imf-metamodel&gt; Code: 0/ILLEGAL_CHARACTER in PATH: The character violates the grammar rules for URIs/IRIs.
	at org.apache.jena.ttl.turtle.TurtleParserBase.throwParseException(TurtleParserBase.java:286)
	at org.apache.jena.ttl.turtle.TurtleParserBase._resolveIRI(TurtleParserBase.java:199)
	at org.apache.jena.ttl.turtle.TurtleParserBase.resolveIRI(TurtleParserBase.java:192)
	at org.apache.jena.ttl.turtle.TurtleParserBase.resolveQuotedIRI(TurtleParserBase.java:183)
	at org.apache.jena.ttl.turtle.parser.TurtleParser.IRI_REF(TurtleParser.java:738)
	at org.apache.jena.ttl.turtle.parser.TurtleParser.IRIref(TurtleParser.java:681)
	at org.apache.jena.ttl.turtle.parser.TurtleParser.GraphTerm(TurtleParser.java:496)
	at org.apache.jena.ttl.turtle.parser.TurtleParser.VarOrTerm(TurtleParser.java:420)
	at org.apache.jena.ttl.turtle.parser.TurtleParser.GraphNode(TurtleParser.java:383)
	at org.apache.jena.ttl.turtle.parser.TurtleParser.Object(TurtleParser.java:236)
	at org.apache.jena.ttl.turtle.parser.TurtleParser.ObjectList(TurtleParser.java:218)
	at org.apache.jena.ttl.turtle.parser.TurtleParser.PropertyListNotEmpty(TurtleParser.java:206)
	at org.apache.jena.ttl.turtle.parser.TurtleParser.TriplesSameSubject(TurtleParser.java:151)
	at org.apache.jena.ttl.turtle.parser.TurtleParser.Statement(TurtleParser.java:97)
	at org.apache.jena.ttl.turtle.parser.TurtleParser.parse(TurtleParser.java:67)
	at org.apache.jena.ttl.turtle.ParserTurtle.parse(ParserTurtle.java:48)
	at org.apache.jena.ttl.turtle.TurtleReader.readWorker(TurtleReader.java:36)
	at org.apache.jena.ttl.JenaReaderBase.readImpl(JenaReaderBase.java:116)
	at org.apache.jena.ttl.JenaReaderBase.read(JenaReaderBase.java:81)
	at org.apache.jena.rdf.model.impl.ModelCom.read(ModelCom.java:253)
	at org.apache.jena.util.FileManagerImpl.readModelWorker(FileManagerImpl.java:438)
	at org.apache.jena.util.FileManagerImpl.loadModelWorker(FileManagerImpl.java:340)
	at org.apache.jena.util.FileManagerImpl.loadModel(FileManagerImpl.java:308)
	at xyz.dyreriket.rdfvizler.util.Models.readModel(Models.java:65)
	at xyz.dyreriket.rdfvizler.util.Models.readModel(Models.java:54)
	at xyz.dyreriket.rdfvizler.RDFVizler.readModel(RDFVizler.java:59)
	at xyz.dyreriket.rdfvizler.RDFVizler.writeDotGraph(RDFVizler.java:111)
	at xyz.dyreriket.rdfvizler.RDFVizler.write(RDFVizler.java:99)
	at xyz.dyreriket.rdfvizler.cli.RDFVizlerCLI.processFile(RDFVizlerCLI.java:152)
	at xyz.dyreriket.rdfvizler.cli.RDFVizlerCLI.run(RDFVizlerCLI.java:162)
	at picocli.CommandLine.execute(CommandLine.java:1048)
	... 8 more
</pre>


<div class="figure">
<p><object type="image/svg+xml" data="./owl/imf-metamodel-overview.svg" class="org-svg">
Sorry, your browser does not support SVG.</object>
</p>
</div>
</div>
</div>

<div id="outline-container-orgc46aa81" class="outline-3">
<h3 id="orgc46aa81"><span class="section-number-3">4.2</span> Ontology source</h3>
<div class="outline-text-3" id="text-4-2">
</div>
<div id="outline-container-org4c8a2b2" class="outline-4">
<h4 id="org4c8a2b2"><span class="section-number-4">4.2.1</span> Header</h4>
<div class="outline-text-4" id="text-4-2-1">
<div class="org-src-container">
<pre class="src src-ttl" id="org066b8c1">

&lt;http://ns.imfid.org/imf-metamodel&gt; a owl:Ontology ;
    owl:versionIRI &lt;http://ns.imfid.org/ontology/[unreleased]/imf-metamodel&gt; ;
    owl:imports &lt;http://ns.imfid.org/ontology/[unreleased]/imf-top&gt; ;
    skos:prefLabel "Information Modelling Framework Ontology: Metamodel Ontology " ;
    skos:altLabel "IMF metamodel ontology" ;
    skos:scopeNote """

      This ontology defines IMF's meta model which defines how
      IMF models are represented.

    """;
    #skos:editorialNote """ """;
    .







</pre>
</div>
</div>
</div>

<div id="outline-container-org1b9f2d0" class="outline-4">
<h4 id="org1b9f2d0"><span class="section-number-4">4.2.2</span> <code>AspectObject</code></h4>
<div class="outline-text-4" id="text-4-2-2">
<p>
AspectObject is defined in IMF Top, but is further described here.
</p>

<div class="org-src-container">
<pre class="src src-ttl" id="orgfaca676">imf:AspectObject a owl:Class ;

  skos:scopeNote """

    Each aspect object is either a system block or a terminal.""".

[] ottr:of o-owl-ma:ClassPartition ;
   ottr:values ( imf:AspectObject ( imf:SystemBlock imf:Terminal ) ) .
</pre>
</div>
</div>
</div>

<div id="outline-container-org6b18197" class="outline-4">
<h4 id="org6b18197"><span class="section-number-4">4.2.3</span> <code>hasParent</code> / <code>hasChild</code></h4>
<div class="outline-text-4" id="text-4-2-3">
<div class="org-src-container">
<pre class="src src-ttl" id="orgb4184fe">imf:hasParent a owl:ObjectProperty;
  a owl:FunctionalProperty ;
  rdfs:subPropertyOf imf:intraAspectRelation, imf:hierarchicalRelation, skos:broader ;

  rdfs:domain imf:AspectObject ;
  rdfs:range imf:AspectObject ;

  skos:prefLabel "has parent" ;
  skos:altLabel "is part of" ;
  skos:definition """

    An aspect object is placed in a tree-shaped breakdown structure
    using hasParent/hasChild relationships. An aspect object may have
    a single parent (the root object has no parent) and possibly
    multiple children. This is an abstraction mechanism. The children
    of an aspect object provide a more detailed description of (parts
    of) its parent.

  """;
  .

imf:hasChild a owl:ObjectProperty ;
  rdfs:subPropertyOf imf:intraAspectRelation, imf:hierarchicalRelation, skos:narrower ;
  owl:inverseOf imf:hasParent ;

  skos:prefLabel "has child";
  skos:altLabel "has part";
  .
</pre>
</div>
</div>
</div>

<div id="outline-container-org78db86d" class="outline-4">
<h4 id="org78db86d"><span class="section-number-4">4.2.4</span> <code>precedes</code></h4>
<div class="outline-text-4" id="text-4-2-4">
<div class="org-src-container">
<pre class="src src-ttl" id="org8594063">imf:precedes a owl:ObjectProperty ;
  a
    # owl:IrreflexiveProperty , ### in OWL an irreflexive property is non-simple, and transitive properties must be simple.
    owl:TransitiveProperty ;
  rdfs:subPropertyOf imf:associativeRelation , imf:intraAspectRelation ;
  rdfs:domain imf:Terminal ;
  rdfs:range imf:Terminal ;
  skos:prefLabel "precedes";
  skos:definition """

    A relation between terminals that represents the "flow" of
    input/output between teminals, both terminals of the same system
    block (represented by the subproperty directlyPrecedes) and of
    different system blocks (represented by the subproperty
    isConnectedTo).

  """; .

imf:directlyPrecedes a owl:ObjectProperty ;
  rdfs:subPropertyOf imf:precedes ;
  rdfs:domain imf:InletTerminal ;
  rdfs:range imf:OutletTerminal ;
  skos:prefLabel "directly precedes";
  skos:definition """

    An immediate, non-transitive, precedes relation between inlet
    terminals and outlet terminals *of the same system* such that
    (parts of) the input to the inlet terminal is processed by the
    system to produce (parts of) the output of the outlet terminal.

  """;
  .

</pre>
</div>
</div>
</div>

<div id="outline-container-org065bd31" class="outline-4">
<h4 id="org065bd31"><span class="section-number-4">4.2.5</span> <code>SystemBlock</code></h4>
<div class="outline-text-4" id="text-4-2-5">
<div class="org-src-container">
<pre class="src src-ttl" id="orgdc16a4b">imf:SystemBlock a owl:Class ;
  rdfs:subClassOf imf:AspectObject ;

  skos:prefLabel "System Block";
  skos:definition """

    A system is a processing (black) box. It processes the input to
    output, possibly changing the state of what is processed.

    Transforms the input from its inlet terminals to the output to its
    outlet terminals. The relation between the inlet and outlet
    terminals may be complex and may be further described by
    subsystems which are related by hasChild.

    A system may have multiple inlet and outlet terminals. A system
    with zero terminals is uncommon.

  """;
  .

[] ottr:of o-owl-ax:SubObjectAllValuesFrom ;
   ottr:values ( imf:SystemBlock imf:hasParent imf:SystemBlock ) .
</pre>
</div>
</div>
</div>

<div id="outline-container-orgbc9490c" class="outline-4">
<h4 id="orgbc9490c"><span class="section-number-4">4.2.6</span> <code>Terminal</code> and its subclasses and relations</h4>
<div class="outline-text-4" id="text-4-2-6">
<div class="org-src-container">
<pre class="src src-ttl" id="org363b335">imf:Terminal a owl:Class ;
  rdfs:subClassOf imf:AspectObject ;

  skos:prefLabel "Terminal" ;
  skos:altLabel "Port" ;
  skos:definition """

    A port or boundry point through which a system block can interact
    and communicate with the world outside the system, receiving input
    and giving output.

  """;

   skos:editorialNote """

     [2022-03-11 Fri] Need to represent the type of a terminal, and
     constraints on connections between typed terminals: material,
     information, energy, structural.

   """ ;

  .

imf:InletTerminal a owl:Class ;
  rdfs:subClassOf imf:Terminal ;
  skos:prefLabel "Inlet Terminal" ;
  skos:definition """

    A terminal whose default function is to recieve input for its
    system.

  """;

  .

imf:OutletTerminal a owl:Class ;
  rdfs:subClassOf imf:Terminal ;
  skos:prefLabel "Outlet Terminal" ;
  skos:definition """

    A terminal whose default function is to give output for its
    system.

  """;

  .

[] ottr:of o-owl-ma:ClassPartition ;
   ottr:values ( imf:Terminal ( imf:InletTerminal imf:OutletTerminal ) ) .

[] ottr:of o-owl-ax:SubObjectAllValuesFrom ;
   ottr:values ( imf:InletTerminal imf:hasParent imf:InletTerminal ) .

[] ottr:of o-owl-ax:SubObjectAllValuesFrom ;
   ottr:values ( imf:OutletTerminal imf:hasParent imf:OutletTerminal ) .

imf:hasTerminal a owl:ObjectProperty ;
  rdfs:subPropertyOf imf:intraAspectRelation , imf:associativeRelation ;
  rdfs:domain imf:SystemBlock ;
  rdfs:range imf:Terminal ;
  skos:prefLabel "has terminal" ;
  skos:definition "The relation between a system and its terminals.";
  .

imf:hasInletTerminal a owl:ObjectProperty ;
  rdfs:subPropertyOf imf:hasTerminal ;
  skos:prefLabel "has inlet terminal" ;
  rdfs:range imf:InletTerminal ;
  skos:definition "The relation between a system and its inlet terminals.";
  .

imf:hasOutletTerminal a owl:ObjectProperty ;
  rdfs:subPropertyOf imf:hasTerminal ;
  skos:prefLabel "has outlet terminal" ;
  rdfs:range imf:OutletTerminal ;
  skos:definition "The relation between a system and its outlet terminals.";
  .

imf:isConnectedTo a owl:ObjectProperty ;
  rdfs:subPropertyOf imf:intraAspectRelation , imf:associativeRelation ;
  rdfs:subPropertyOf imf:precedes ;
  skos:prefLabel "is connected to" ;
  skos:definition """

    The relation between to terminals that are connected. The output
    of the outlet terminal is given as input to the inlet terminal.

  """;
  rdfs:domain imf:OutletTerminal ;
  rdfs:range imf:InletTerminal ;
  .
</pre>
</div>
</div>
</div>

<div id="outline-container-orgcdf1ec9" class="outline-4">
<h4 id="orgcdf1ec9"><span class="section-number-4">4.2.7</span> <code>Connection</code> and its relations</h4>
<div class="outline-text-4" id="text-4-2-7">
<div class="org-src-container">
<pre class="src src-ttl" id="orgbf01ce6">imf:Connection a owl:Class ;
  rdfs:subClassOf imf:SystemBlock ;
  skos:prefLabel "Connection" ;  
  skos:altLabel "Junction" , "Transport" ;
  skos:definition """

     A simple type of system block that has exactly one input and one
     output. No transformation of the input is performed.

     The connection, in effect, merges the two connected
     terminals. The connection itself has no function or spatial
     significance.

  """;
  .

[] ottr:of o-owl-ax:SubObjectExactCardinality ;
   ottr:values ( imf:Connection "1"^^xsd:nonNegativeInteger imf:hasInletTerminal imf:InletTerminal ) .

[] ottr:of o-owl-ax:SubObjectExactCardinality ;
   ottr:values ( imf:Connection "1"^^xsd:nonNegativeInteger imf:hasOutletTerminal imf:OutletTerminal ) .
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-orge1dc729" class="outline-3">
<h3 id="orge1dc729"><span class="section-number-3">4.3</span> SHACL shapes</h3>
<div class="outline-text-3" id="text-4-3">
<p>
These SHACL shape constaints are defined using the OTTR templates
specified in the appendix: <a href="#org8713ac6">12.3</a>.
</p>

<p>
Node shapes:
</p>

<table id="org996303a" border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-left" />

<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<thead>
<tr>
<th scope="col" class="org-left">nodeshape</th>
<th scope="col" class="org-left">targetClass</th>
<th scope="col" class="org-left">closed</th>
<th scope="col" class="org-left">ignoredProperties</th>
</tr>
</thead>
<tbody>
<tr>
<td class="org-left">imf:SystemBlockShape</td>
<td class="org-left">imf:SystemBlock</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left">imf:InletTerminalShape</td>
<td class="org-left">imf:InletTerminal</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left">imf:OutletTerminalShape</td>
<td class="org-left">imf:OutletTerminal</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left">imf:ConnectionShape</td>
<td class="org-left">imf:Connection</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">&#xa0;</td>
</tr>
</tbody>
</table>

<p>
Path shapes:
</p>

<table id="org70063bf" border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-left" />

<col  class="org-left" />

<col  class="org-left" />

<col  class="org-left" />

<col  class="org-right" />

<col  class="org-left" />

<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<thead>
<tr>
<th scope="col" class="org-left">nodeshape</th>
<th scope="col" class="org-left">path</th>
<th scope="col" class="org-left">message</th>
<th scope="col" class="org-left">severity</th>
<th scope="col" class="org-left">mincount</th>
<th scope="col" class="org-right">maxcount</th>
<th scope="col" class="org-left">class</th>
<th scope="col" class="org-left">datatype</th>
<th scope="col" class="org-left">in-values</th>
</tr>
</thead>
<tbody>
<tr>
<td class="org-left">imf:SystemBlockShape</td>
<td class="org-left">imf:hasParent</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">&#xa0;</td>
<td class="org-right">1</td>
<td class="org-left">imf:SystemBlock</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left">imf:SystemBlockShape</td>
<td class="org-left">imf:hasChild</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-left">imf:SystemBlock</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left">imf:InletTerminalShape</td>
<td class="org-left">imf:hasParent</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">&#xa0;</td>
<td class="org-right">1</td>
<td class="org-left">imf:InletTerminal</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left">imf:InletTerminalShape</td>
<td class="org-left">imf:hasChild</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-left">imf:InletTerminal</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left">imf:InletTerminalShape</td>
<td class="org-left">imf:directlyPrecedes</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-left">imf:OutletTerminal</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left">imf:OutletTerminalShape</td>
<td class="org-left">imf:hasParent</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">&#xa0;</td>
<td class="org-right">1</td>
<td class="org-left">imf:OutletTerminal</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left">imf:OutletTerminalShape</td>
<td class="org-left">imf:hasChild</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-left">imf:OutletTerminal</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left">imf:OutletTerminalShape</td>
<td class="org-left">imf:isConnectedTo</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">&#xa0;</td>
<td class="org-right">1</td>
<td class="org-left">imf:InletTerminal</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left">imf:ConnectionShape</td>
<td class="org-left">imf:hasInletTerminal</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">1</td>
<td class="org-right">1</td>
<td class="org-left">imf:InletTerminal</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left">imf:ConnectionShape</td>
<td class="org-left">imf:hasOutletTerminal</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">1</td>
<td class="org-right">1</td>
<td class="org-left">imf:OutletTerminal</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">&#xa0;</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>

<div id="outline-container-org71f1e43" class="outline-2">
<h2 id="org71f1e43"><span class="section-number-2">5</span> IMF Aspects Ontology</h2>
<div class="outline-text-2" id="text-5">
</div>
<div id="outline-container-orgbb28312" class="outline-3">
<h3 id="orgbb28312"><span class="section-number-3">5.1</span> Overview</h3>
<div class="outline-text-3" id="text-5-1">

<div class="figure">
<p><object type="image/svg+xml" data="./owl/imf-aspects-overview.svg" class="org-svg">
Sorry, your browser does not support SVG.</object>
</p>
</div>
</div>
</div>

<div id="outline-container-org0ed56ba" class="outline-3">
<h3 id="org0ed56ba"><span class="section-number-3">5.2</span> Ontology source</h3>
<div class="outline-text-3" id="text-5-2">
</div>
<div id="outline-container-org7e2f7f8" class="outline-4">
<h4 id="org7e2f7f8"><span class="section-number-4">5.2.1</span> Header</h4>
<div class="outline-text-4" id="text-5-2-1">
<div class="org-src-container">
<pre class="src src-ttl" id="org83b3ccf">

&lt;http://ns.imfid.org/imf-aspects&gt; a owl:Ontology ;
    owl:versionIRI &lt;http://ns.imfid.org/ontology/[unreleased]/imf-aspects&gt; ;
    owl:imports &lt;http://ns.imfid.org/ontology/[unreleased]/imf-top&gt; ;
    skos:prefLabel "Information Modelling Framework Ontology: Aspects Ontology " ;
    skos:altLabel "IMF aspects ontology" ;
    skos:scopeNote """

      This ontology defines IMF's central aspects.

    """;
    .





</pre>
</div>
</div>
</div>

<div id="outline-container-orgca7fcbb" class="outline-4">
<h4 id="orgca7fcbb"><span class="section-number-4">5.2.2</span> <code>Aspect</code></h4>
<div class="outline-text-4" id="text-5-2-2">
<p>
Aspect is defined in IMF Top, but is further described here.
</p>

<div class="org-src-container">
<pre class="src src-ttl" id="org304801f">imf:Aspect a owl:Class ;

  skos:scopeNote """

    Each aspect is associated with a class of the aspect objects that
    have that aspect, e.g,. imf:FunctionAspectObject is the class of
    aspect objects with the aspect imf:FunctionAspect. These classes
    are used to specify permissible relationships between aspect
    objects according to their aspect.""" ;
  .

</pre>
</div>
</div>
</div>

<div id="outline-container-org657657d" class="outline-4">
<h4 id="org657657d"><span class="section-number-4">5.2.3</span> Aspects</h4>
<div class="outline-text-4" id="text-5-2-3">
<p>
This is the current list of aspects:
</p>

<table id="org5c4a535" border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<thead>
<tr>
<th scope="col" class="org-left">Aspect, IRIs</th>
<th scope="col" class="org-left">Prefix, string</th>
<th scope="col" class="org-left">Color, string</th>
</tr>
</thead>
<tbody>
<tr>
<td class="org-left">imf:FunctionAspect</td>
<td class="org-left">'='</td>
<td class="org-left">'#FFFF00'</td>
</tr>

<tr>
<td class="org-left">imf:LocationAspect</td>
<td class="org-left">'+'</td>
<td class="org-left">'#FF00FF'</td>
</tr>

<tr>
<td class="org-left">imf:ProductAspect</td>
<td class="org-left">'-'</td>
<td class="org-left">'#00FFFF'</td>
</tr>

<tr>
<td class="org-left">imf:ActivityAspect</td>
<td class="org-left">'&gt;'</td>
<td class="org-left">'#000000'</td>
</tr>
</tbody>
</table>

<div class="org-src-container">
<pre class="src src-ttl">

o-imf:Aspect [owl:NamedIndividual ?aspect, xsd:string ?symbol, xsd:string ?color] :: {
  o-rdf:Type(?aspect, imf:Aspect) ,
  ottr:Triple(?aspect, imf:prefix, ?symbol),
  ottr:Triple(?aspect, imf:color, ?color)
} .

o-imf:AspectObjectClass [owl:Class ?class, owl:NamedIndividual ?aspect] :: {
  o-owl-ax:SubClassOf(?class, imf:AspectObject),  
  o-owl-ax:EquivObjectHasValue(?class, imf:hasAspect, ?aspect),  
  o-owl-ax:SubObjectAllValuesFrom(?class, imf:intraAspectRelation, ?class)
} .
</pre>
</div>
</div>
</div>

<div id="outline-container-org4bcbd90" class="outline-4">
<h4 id="org4bcbd90"><span class="section-number-4">5.2.4</span> Inter-aspect relationships</h4>
<div class="outline-text-4" id="text-5-2-4">
<div class="org-src-container">
<pre class="src src-ttl" id="orgb3aa8e0">imf:interAspectRelation a owl:ObjectProperty ;
    rdfs:domain imf:AspectObject ;
    rdfs:range imf:AspectObject ;
    rdfs:subPropertyOf skos:related ;
    skos:definition """

      Relates aspects objects of different aspects.

    """
    # owl:propertyDisjointWith imf:intraAspectRelation ; ## An error occurred during reasoning: Non-simple property or its inverse appears in disjoint properties axiom.

    .
</pre>
</div>

<p>
The following inter-aspect relationships are defined:
</p>

<table id="org2ec43cb" border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<thead>
<tr>
<th scope="col" class="org-left">Relation</th>
<th scope="col" class="org-left">Domain</th>
<th scope="col" class="org-left">Range</th>
</tr>
</thead>
<tbody>
<tr>
<td class="org-left">imf:hasLocation</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">imf:LocationAspectObject</td>
</tr>

<tr>
<td class="org-left">imf:isFulfilledBy</td>
<td class="org-left">imf:FunctionAspectObject</td>
<td class="org-left">imf:ProductAspectObject</td>
</tr>

<tr>
<td class="org-left">imf:hasActivity</td>
<td class="org-left">imf:FunctionAspectObject</td>
<td class="org-left">imf:ActivityAspectObject</td>
</tr>
</tbody>
</table>

<div class="org-src-container">
<pre class="src src-ttl">

o-imf:InterAspectRelation[owl:ObjectProperty ?relation, owl:Class ?domain, owl:Class ?range] :: {
  o-owl-ax:SubObjectPropertyOf(?relation, imf:interAspectRelation),
  #o-owl-rstr:ObjectUnionOf(_:domain, ?domain),  
  #o-owl-rstr:ObjectUnionOf(_:range, ?range),
  o-owl-ma:DomainRange(?relation, ?domain, ?range)
} .
</pre>
</div>
</div>
</div>
</div>
</div>

<div id="outline-container-orgddad1d5" class="outline-2">
<h2 id="orgddad1d5"><span class="section-number-2">6</span> <span class="todo TODO">TODO</span> Attribute data aka. Quantities</h2>
<div class="outline-text-2" id="text-6">
<p>
TODO: Coordinate with existing PCA templates.
</p>
</div>
</div>

<div id="outline-container-org0d3897d" class="outline-2">
<h2 id="org0d3897d"><span class="section-number-2">7</span> <span class="todo TODO">TODO</span> Types</h2>
</div>
<div id="outline-container-org2e30556" class="outline-2">
<h2 id="org2e30556"><span class="section-number-2">8</span> <span class="todo TODO">TODO</span> Visualisation Ontology</h2>
<div class="outline-text-2" id="text-8">
<p>
The visualisation ontology extends the IMF ontology to include
formatting instructions for visualising IMF data using an <a href="#org5d32fbd">11.3</a> rule set.
</p>

<div class="org-src-container">
<pre class="src src-ttl">###  http://example.com/imf#graphic
imf:graphic rdf:type owl:AnnotationProperty .

###  http://example.com/imf#color
imf:color rdf:type owl:AnnotationProperty ;
          rdfs:subPropertyOf imf:graphic .

###  http://example.com/imf#icon
imf:icon rdf:type owl:AnnotationProperty ;
         rdfs:subPropertyOf imf:graphic .

###  http://example.com/imf#shape
imf:shape rdf:type owl:AnnotationProperty ;
          rdfs:subPropertyOf imf:graphic .
</pre>
</div>
</div>
</div>

<div id="outline-container-org24b210e" class="outline-2">
<h2 id="org24b210e"><span class="section-number-2">9</span> Summary of IMF OWL ontologies and SHACL shapes</h2>
<div class="outline-text-2" id="text-9">
</div>
<div id="outline-container-org001a269" class="outline-3">
<h3 id="org001a269"><span class="section-number-3">9.1</span> Classes</h3>
<div class="outline-text-3" id="text-9-1">
<div class="org-src-container">
<pre class="src src-ttl" id="org231d9c9">SELECT ?class ?prefLabel ?altLabels ?definition ?superclasses
{
  ?class a owl:Class.
  FILTER (!isBlank(?class))

  OPTIONAL { ?class skos:prefLabel ?prefLabel }
  OPTIONAL { ?class skos:definition ?definition }

  { SELECT ?class 
      (GROUP_CONCAT(?superclass; SEPARATOR=", ") AS ?superclasses) 
      (GROUP_CONCAT(?altLabel; SEPARATOR=", ") AS ?altLabels) 
    {
      OPTIONAL { ?class rdfs:subClassOf ?superclass }
      OPTIONAL { ?class skos:altLabel ?altLabel }
    } GROUP BY ?class
  }

}
ORDER BY ?class
</pre>
</div>
</div>
</div>

<div id="outline-container-org991f631" class="outline-3">
<h3 id="org991f631"><span class="section-number-3">9.2</span> Properties</h3>
<div class="outline-text-3" id="text-9-2">
<div class="org-src-container">
<pre class="src src-ttl" id="orgae6bcdf">SELECT ?type ?property ?prefLabel ?altLabels ?definition ?domain ?range ?characteristics ?superproperties
{
  ?property a ?type.
  FILTER (?type = owl:ObjectProperty || ?type = owl:DatatypeProperty || ?type = owl:AnnotationProperty )
  FILTER (!isBlank(?property))

  OPTIONAL { ?property skos:prefLabel ?prefLabel }
  OPTIONAL { ?property skos:definition ?definition }
  OPTIONAL { ?property rdfs:domain ?domain }
  OPTIONAL { ?property rdfs:range ?range }

  { SELECT ?property 
      (GROUP_CONCAT(?superproperty; SEPARATOR=", ") AS ?superproperties) 
      (GROUP_CONCAT(?characteristic; SEPARATOR=", ") AS ?characteristics) 
      (GROUP_CONCAT(?altLabel; SEPARATOR=", ") AS ?altLabels) 
    {
      OPTIONAL { ?property rdfs:subPropertyOf ?superproperty }
      OPTIONAL { ?property a ?characteristic .
          FILTER (?characteristic != owl:ObjectProperty &amp;&amp; ?characteristic != owl:DatatypeProperty &amp;&amp; ?characteristic != owl:AnnotationProperty )
      }
      OPTIONAL { ?property skos:altLabel ?altLabel }
    } GROUP BY ?property
  }
  
}
ORDER BY ?type ?property
</pre>
</div>

<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-left" />

<col  class="org-left" />

<col  class="org-left" />

<col  class="org-left" />

<col  class="org-left" />

<col  class="org-left" />

<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<thead>
<tr>
<th scope="col" class="org-left"><code>type</code></th>
<th scope="col" class="org-left"><code>property</code></th>
<th scope="col" class="org-left"><code>prefLabel</code></th>
<th scope="col" class="org-left"><code>altLabels</code></th>
<th scope="col" class="org-left"><code>definition</code></th>
<th scope="col" class="org-left"><code>domain</code></th>
<th scope="col" class="org-left"><code>range</code></th>
<th scope="col" class="org-left"><code>characteristics</code></th>
<th scope="col" class="org-left"><code>superproperties</code></th>
</tr>
</thead>
<tbody>
<tr>
<td class="org-left"><code>owl:ObjectProperty</code></td>
<td class="org-left"><code>imf:associativeRelation</code></td>
<td class="org-left"><code>associative relation</code></td>
<td class="org-left">&#xa0;</td>
<td class="org-left"><code>A generic associative relation.</code></td>
<td class="org-left"><code>imf:AspectObject</code></td>
<td class="org-left"><code>imf:AspectObject</code></td>
<td class="org-left">&#xa0;</td>
<td class="org-left"><code>skos:related</code></td>
</tr>

<tr>
<td class="org-left"><code>owl:ObjectProperty</code></td>
<td class="org-left"><code>imf:directlyPrecedes</code></td>
<td class="org-left"><code>directly precedes</code></td>
<td class="org-left">&#xa0;</td>
<td class="org-left"><code>An immediate, non-transitive, precedes relation between inlet terminals and outlet terminals *of the same system* such that (parts of) the input to the inlet terminal is processed by the system to produce (parts of) the output of the outlet terminal.</code></td>
<td class="org-left"><code>imf:InletTerminal</code></td>
<td class="org-left"><code>imf:OutletTerminal</code></td>
<td class="org-left">&#xa0;</td>
<td class="org-left"><code>imf:precedes</code></td>
</tr>

<tr>
<td class="org-left"><code>owl:ObjectProperty</code></td>
<td class="org-left"><code>imf:hasActivity</code></td>
<td class="org-left">&#xa0;</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">&#xa0;</td>
<td class="org-left"><code>imf:FunctionAspectObject</code></td>
<td class="org-left"><code>imf:ActivityAspectObject</code></td>
<td class="org-left">&#xa0;</td>
<td class="org-left"><code>imf:interAspectRelation</code></td>
</tr>

<tr>
<td class="org-left"><code>owl:ObjectProperty</code></td>
<td class="org-left"><code>imf:hasAspect</code></td>
<td class="org-left"><code>has aspect</code></td>
<td class="org-left">&#xa0;</td>
<td class="org-left"><code>Relates an aspect object to its aspect.</code></td>
<td class="org-left"><code>imf:AspectObject</code></td>
<td class="org-left"><code>imf:Aspect</code></td>
<td class="org-left">&#xa0;</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left"><code>owl:ObjectProperty</code></td>
<td class="org-left"><code>imf:hasChild</code></td>
<td class="org-left"><code>has child</code></td>
<td class="org-left"><code>has part, has part, has part</code></td>
<td class="org-left">&#xa0;</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">&#xa0;</td>
<td class="org-left"><code>imf:hierarchicalRelation, imf:intraAspectRelation, skos:narrower</code></td>
</tr>

<tr>
<td class="org-left"><code>owl:ObjectProperty</code></td>
<td class="org-left"><code>imf:hasInletTerminal</code></td>
<td class="org-left"><code>has inlet terminal</code></td>
<td class="org-left">&#xa0;</td>
<td class="org-left"><code>The relation between a system and its inlet terminals.</code></td>
<td class="org-left">&#xa0;</td>
<td class="org-left"><code>imf:InletTerminal</code></td>
<td class="org-left">&#xa0;</td>
<td class="org-left"><code>imf:hasTerminal</code></td>
</tr>

<tr>
<td class="org-left"><code>owl:ObjectProperty</code></td>
<td class="org-left"><code>imf:hasOutletTerminal</code></td>
<td class="org-left"><code>has outlet terminal</code></td>
<td class="org-left">&#xa0;</td>
<td class="org-left"><code>The relation between a system and its outlet terminals.</code></td>
<td class="org-left">&#xa0;</td>
<td class="org-left"><code>imf:OutletTerminal</code></td>
<td class="org-left">&#xa0;</td>
<td class="org-left"><code>imf:hasTerminal</code></td>
</tr>

<tr>
<td class="org-left"><code>owl:ObjectProperty</code></td>
<td class="org-left"><code>imf:hasParent</code></td>
<td class="org-left"><code>has parent</code></td>
<td class="org-left"><code>is part of, is part of, is part of</code></td>
<td class="org-left"><code>An aspect object is placed in a tree-shaped breakdown structure using hasParent/hasChild relationships. An aspect object may have a single parent (the root object has no parent) and possibly multiple children. This is an abstraction mechanism. The children of an aspect object provide a more detailed description of (parts of) its parent.</code></td>
<td class="org-left"><code>imf:AspectObject</code></td>
<td class="org-left"><code>imf:AspectObject</code></td>
<td class="org-left"><code>owl:FunctionalProperty, owl:FunctionalProperty, owl:FunctionalProperty</code></td>
<td class="org-left"><code>imf:hierarchicalRelation, skos:broader, imf:intraAspectRelation</code></td>
</tr>

<tr>
<td class="org-left"><code>owl:ObjectProperty</code></td>
<td class="org-left"><code>imf:hasTerminal</code></td>
<td class="org-left"><code>has terminal</code></td>
<td class="org-left">&#xa0;</td>
<td class="org-left"><code>The relation between a system and its terminals.</code></td>
<td class="org-left"><code>imf:SystemBlock</code></td>
<td class="org-left"><code>imf:Terminal</code></td>
<td class="org-left">&#xa0;</td>
<td class="org-left"><code>imf:intraAspectRelation, imf:associativeRelation</code></td>
</tr>

<tr>
<td class="org-left"><code>owl:ObjectProperty</code></td>
<td class="org-left"><code>imf:hierarchicalRelation</code></td>
<td class="org-left"><code>hierarchical relation</code></td>
<td class="org-left">&#xa0;</td>
<td class="org-left"><code>A generic hierachical relation that may be used to represent a breakdown structure.</code></td>
<td class="org-left"><code>imf:AspectObject</code></td>
<td class="org-left"><code>imf:AspectObject</code></td>
<td class="org-left"><code>owl:IrreflexiveProperty</code></td>
<td class="org-left"><code>skos:semanticRelation</code></td>
</tr>

<tr>
<td class="org-left"><code>owl:ObjectProperty</code></td>
<td class="org-left"><code>imf:interAspectRelation</code></td>
<td class="org-left">&#xa0;</td>
<td class="org-left">&#xa0;</td>
<td class="org-left"><code>Relates aspects objects of different aspects.</code></td>
<td class="org-left"><code>imf:AspectObject</code></td>
<td class="org-left"><code>imf:AspectObject</code></td>
<td class="org-left">&#xa0;</td>
<td class="org-left"><code>skos:related</code></td>
</tr>

<tr>
<td class="org-left"><code>owl:ObjectProperty</code></td>
<td class="org-left"><code>imf:intraAspectRelation</code></td>
<td class="org-left"><code>intra-aspect relation</code></td>
<td class="org-left">&#xa0;</td>
<td class="org-left"><code>A generic relation between aspect objects of the same aspect</code></td>
<td class="org-left"><code>imf:AspectObject</code></td>
<td class="org-left"><code>imf:AspectObject</code></td>
<td class="org-left">&#xa0;</td>
<td class="org-left"><code>skos:semanticRelation</code></td>
</tr>

<tr>
<td class="org-left"><code>owl:ObjectProperty</code></td>
<td class="org-left"><code>imf:isAspectOf</code></td>
<td class="org-left"><code>is aspect of</code></td>
<td class="org-left">&#xa0;</td>
<td class="org-left"><code>Relates an aspect object to the integrated object the aspect object provides a specification for/description of.</code></td>
<td class="org-left"><code>imf:AspectObject</code></td>
<td class="org-left"><code>imf:IntegratedObject</code></td>
<td class="org-left">&#xa0;</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left"><code>owl:ObjectProperty</code></td>
<td class="org-left"><code>imf:isConnectedTo</code></td>
<td class="org-left"><code>is connected to</code></td>
<td class="org-left">&#xa0;</td>
<td class="org-left"><code>The relation between to terminals that are connected. The output of the outlet terminal is given as input to the inlet terminal.</code></td>
<td class="org-left"><code>imf:OutletTerminal</code></td>
<td class="org-left"><code>imf:InletTerminal</code></td>
<td class="org-left">&#xa0;</td>
<td class="org-left"><code>imf:associativeRelation, imf:intraAspectRelation, imf:precedes</code></td>
</tr>

<tr>
<td class="org-left"><code>owl:ObjectProperty</code></td>
<td class="org-left"><code>imf:isFulfilledBy</code></td>
<td class="org-left">&#xa0;</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">&#xa0;</td>
<td class="org-left"><code>imf:FunctionAspectObject</code></td>
<td class="org-left"><code>imf:ProductAspectObject</code></td>
<td class="org-left">&#xa0;</td>
<td class="org-left"><code>imf:interAspectRelation</code></td>
</tr>

<tr>
<td class="org-left"><code>owl:ObjectProperty</code></td>
<td class="org-left"><code>imf:precedes</code></td>
<td class="org-left"><code>precedes</code></td>
<td class="org-left">&#xa0;</td>
<td class="org-left"><code>A relation between terminals that represents the "flow" of input/output between teminals, both terminals of the same system block (represented by the subproperty directlyPrecedes) and of different system blocks (represented by the subproperty isConnectedTo).</code></td>
<td class="org-left"><code>imf:Terminal</code></td>
<td class="org-left"><code>imf:Terminal</code></td>
<td class="org-left"><code>owl:TransitiveProperty, owl:TransitiveProperty</code></td>
<td class="org-left"><code>imf:intraAspectRelation, imf:associativeRelation</code></td>
</tr>
</tbody>
</table>
</div>
</div>


<div id="outline-container-org5464c5d" class="outline-3">
<h3 id="org5464c5d"><span class="section-number-3">9.3</span> OWL ontologies combined to one file</h3>
<div class="outline-text-3" id="text-9-3">
<p>
RDF Turtle serialisation of all IMF ontologies merged into one file
</p>

<p>
<a href="owl/imf-all.owl.ttl">owl/imf-all.owl.ttl</a>
</p>
</div>
</div>

<div id="outline-container-org0ce669b" class="outline-3">
<h3 id="org0ce669b"><span class="section-number-3">9.4</span> SHACL constraints combined to one file</h3>
<div class="outline-text-3" id="text-9-4">
<p>
<a href="shacl/imf-all.shacl.ttl">shacl/imf-all.shacl.ttl</a>
</p>
</div>
</div>
</div>


<div id="outline-container-orgaffff48" class="outline-2">
<h2 id="orgaffff48"><span class="section-number-2">10</span> IMF data</h2>
<div class="outline-text-2" id="text-10">
</div>
<div id="outline-container-org69f7bdb" class="outline-3">
<h3 id="org69f7bdb"><span class="section-number-3">10.1</span> Serialisation formats</h3>
<div class="outline-text-3" id="text-10-1">
<p>
The primary format for IMF data is RDF. RDF is an abstract data model
defined as an open standard by the W3C. RDF may be serialised in
different serialisation formats such as RDF/XML (based on XML),
JSON-LD (based on JSON), Turtle (a favorite amongst many familiar with
RDF due to its ease of reading and writing), or N-Triples (a very
simple format only appropriate for software).
</p>

<p>
A syntactically correct IMF dataset
</p>
<ul class="org-ul">
<li>is a valid RDF dataset,</li>
<li>uses the vocabulary defined by the IMF ontology, and</li>
<li>is valid with respect to the SHACL shapes defined for IMF data
(TODO)</li>
</ul>

<p>
A semantically correct IMF dataset
</p>
<ul class="org-ul">
<li>is a syntactically correct IMF dataset, and</li>
<li>is logically consistent with respect to the IMF ontology</li>
</ul>

<p>
A set of OTTR templates for representing IMF data will be defined. The
OTTR template mechanism ensures that instances of these templates
always represent a syntacticallt correct IMF dataset. The OTTR format
may therefor be a compact and convenient format for representing,
exchanging, and generating IMF data. Different serialisation formats
for OTTR template instances exist, including tools and formats for
mapping tabular data (Excel spreadsheets and relational databases) to
OTTR templates.
</p>
</div>
</div>

<div id="outline-container-org149b160" class="outline-3">
<h3 id="org149b160"><span class="section-number-3">10.2</span> OTTR templates</h3>
<div class="outline-text-3" id="text-10-2">
<div class="org-src-container">
<pre class="src src-ttl">@prefix xsd:	&lt;http://www.w3.org/2001/XMLSchema#&gt; .
@prefix rdf:	&lt;http://www.w3.org/1999/02/22-rdf-syntax-ns#&gt; .
@prefix rdfs:	&lt;http://www.w3.org/2000/01/rdf-schema#&gt; .
@prefix owl:    &lt;http://www.w3.org/2002/07/owl#&gt; .
@prefix skos:	&lt;http://www.w3.org/2004/02/skos/core#&gt; .
@prefix pav:	&lt;http://purl.org/pav/&gt; .
@prefix sh: 	&lt;http://www.w3.org/ns/shacl#&gt; . 
@prefix shsh:   &lt;http://www.w3.org/ns/shacl-shacl#&gt; .
@prefix ex:	&lt;http://example.com#&gt; .
@prefix imf:	&lt;http://ns.imfid.org/imf#&gt; .
@prefix ottr:        &lt;http://ns.ottr.xyz/0.4/&gt; .
@prefix o-rdf:       &lt;http://tpl.ottr.xyz/rdf/0.1/&gt; .
@prefix o-owl-ax:    &lt;http://tpl.ottr.xyz/owl/axiom/0.1/&gt; .
@prefix o-owl-ma:    &lt;http://tpl.ottr.xyz/owl/macro/0.1/&gt; .
@prefix o-owl-rstr:  &lt;http://tpl.ottr.xyz/owl/restriction/0.1/&gt; .
@prefix o-imf:	     &lt;http://ns.imfid.org/templates/&gt; .

o-imf:Description [
  ottr:IRI ?id,
  ? xsd:string ?label,
  ? xsd:string ?note
] :: {
  ottr:Triple(?id, skos:prefLabel, ?label),
  ottr:Triple(?id, skos:note, ?note)
} .

o-imf:Versioning [
  ottr:IRI ?id,
  ? xsd:dateTime ?createdDate,
  ? ottr:IRI ?createdBy,
  ? xsd:dateTime ?updatedDate,
  ? ottr:IRI ?updatedBy,
  xsd:string ?version,
  ? ottr:IRI ?status
] :: {
  ottr:Triple(?id, pav:createdBy, ?createdBy),
  ottr:Triple(?id, pav:createdOn, ?createdDate),
  ottr:Triple(?id, pav:contributedBy, ?updatedBy),
  ottr:Triple(?id, pav:lastUpdateOn, ?updatedDate),
  ottr:Triple(?id, pav:version, ?version),
  ottr:Triple(?id, imf:status, ?status)
} .
 
o-imf:AspectObject [
  owl:NamedIndividual ?id, 
  owl:Class ?type, 
  ? owl:NamedIndividual ?aspect, 
  ? owl:NamedIndividual ?parent,
  ? xsd:string ?label, 
  ? xsd:string ?description
] :: {
  o-rdf:Type(?id, ?type),
  ottr:Triple(?id, imf:hasAspect, ?aspect), 
  ottr:Triple(?id, imf:hasParent, ?parent),
  # cross | ottr:Triple(?id, imf:hasChild, ++?children),
  o-imf:Description(?id, ?label, ?description)
} .

o-imf:SystemBlock[
  owl:NamedIndividual ?id, 
  ? owl:NamedIndividual ?aspect, 
  ? owl:NamedIndividual ?parent,
  ? xsd:string ?label, 
  ? xsd:string ?description,
  ? List&lt;owl:NamedIndividual&gt; ?terminals
] :: {
  o-imf:AspectObject(?id, imf:SystemBlock, ?aspect, ?parent, ?label, ?description),
  cross | ottr:Triple(?id, imf:hasTerminal, ++?terminals)
} .

o-imf:InletTerminal[
  owl:NamedIndividual ?id,
  ? owl:NamedIndividual ?aspect,
  owl:NamedIndividual ?systemBlock,
  ? owl:NamedIndividual ?parent,
  ? List&lt;owl:NamedIndividual&gt; ?directlyPrecedes,
  ? owl:NamedIndividual ?isConnectedTo,
  ? xsd:string ?label, 
  ? xsd:string ?description
] :: {
  o-imf:AspectObject(?id, imf:InletTerminal, ?aspect, ?parent, ?label, ?description),
  ottr:Triple(?systemBlock, imf:hasInletTerminal, ?id),
  cross | ottr:Triple(?id, imf:directlyPrecedes, ++?directlyPrecedes),
  ottr:Triple(?isConnectedTo, imf:isConnectedTo, ?id)
} .

o-imf:OutletTerminal[
  owl:NamedIndividual ?id,
  ? owl:NamedIndividual ?aspect,
  owl:NamedIndividual ?systemBlock,
  ? owl:NamedIndividual ?parent,
  ? List&lt;owl:NamedIndividual&gt; ?directlyPrecedes,
  ? owl:NamedIndividual ?isConnectedTo,
  ? xsd:string ?label, 
  ? xsd:string ?description
] :: {
  o-imf:AspectObject(?id, imf:OutletTerminal, ?aspect, ?parent, ?label, ?description),
  ottr:Triple(?systemBlock, imf:hasOutletTerminal, ?id),
  cross | ottr:Triple(++?directlyPrecedes, imf:directlyPrecedes, ?id),
  ottr:Triple(?id, imf:isConnectedTo, ?isConnectedTo)
} .

o-imf:Connection[
  owl:NamedIndividual ?id,
  ? owl:NamedIndividual ?aspect,
  ? owl:NamedIndividual ?parent,
  owl:NamedIndividual ?inletTerminal, 
  owl:NamedIndividual ?connectedInputTerminal, 
  owl:NamedIndividual ?outletTerminal, 
  owl:NamedIndividual ?connectedOutputTerminal,
  xsd:string ?label, 
  ? xsd:string ?description
] :: {
  o-imf:AspectObject(?id, imf:InletTerminal, ?aspect, ?parent, ?label, ?description),
  ottr:Triple(?id, imf:hasInletTerminal, ?inletTerminal),
  ottr:Triple(?connectedInputTerminal, imf:isConnectedTo, ?inletTerminal),
  ottr:Triple(?id, imf:hasOutletTerminal, ?outletTerminal),
  ottr:Triple(?outletTerminal, imf:isConnectedTo, ?connectedOutputTerminal)
} .
</pre>
</div>
</div>
</div>

<div id="outline-container-org39d8d4c" class="outline-3">
<h3 id="org39d8d4c"><span class="section-number-3">10.3</span> Example data: Coffee machine</h3>
<div class="outline-text-3" id="text-10-3">
</div>
<div id="outline-container-orgcbf918d" class="outline-4">
<h4 id="orgcbf918d"><span class="section-number-4">10.3.1</span> Data as OTTR instances in tabular form</h4>
<div class="outline-text-4" id="text-10-3-1">
<p>
Note: Lists are written using parenthesis. Empty lists must currently
also be written.
</p>
</div>

<ol class="org-ol">
<li><a id="org8d196aa"></a>SystemBlocks<br />
<div class="outline-text-5" id="text-10-3-1-1">
<table id="org68a259f" border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-left" />

<col  class="org-left" />

<col  class="org-left" />

<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<thead>
<tr>
<th scope="col" class="org-left">?id</th>
<th scope="col" class="org-left">?aspect</th>
<th scope="col" class="org-left">? ?parent</th>
<th scope="col" class="org-left">? xsd:string ?label</th>
<th scope="col" class="org-left">? xsd:string ?description</th>
<th scope="col" class="org-left">? List ?terminals</th>
</tr>
</thead>
<tbody>
<tr>
<td class="org-left">ex:CoffeeMachine</td>
<td class="org-left">imf:Function</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">'Coffee machine'</td>
<td class="org-left">'Makes different variants of espresso based coffee possibly with milk'</td>
<td class="org-left">()</td>
</tr>

<tr>
<td class="org-left">ex:Grinder</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">ex:CoffeeMachine</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">'Grinds coffee beans'</td>
<td class="org-left">()</td>
</tr>

<tr>
<td class="org-left">ex:Steamer</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">ex:CoffeeMachine</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">'Steams milk with water steam'</td>
<td class="org-left">()</td>
</tr>

<tr>
<td class="org-left">ex:Mixer</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">ex:CoffeeMachine</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">'Mixes coffee and milk to perfection'</td>
<td class="org-left">()</td>
</tr>

<tr>
<td class="org-left">ex:WaterHeater</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">ex:CoffeeMachine</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">'Heats water'</td>
<td class="org-left">()</td>
</tr>

<tr>
<td class="org-left">ex:WaterTank</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">ex:CoffeeMachine</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">'Stores water'</td>
<td class="org-left">()</td>
</tr>
</tbody>
</table>
</div>
</li>

<li><a id="org222051f"></a>InletTerminals<br />
<div class="outline-text-5" id="text-10-3-1-2">
<table id="org263e5c1" border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-left" />

<col  class="org-left" />

<col  class="org-left" />

<col  class="org-left" />

<col  class="org-left" />

<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<thead>
<tr>
<th scope="col" class="org-left">?id</th>
<th scope="col" class="org-left">?aspect</th>
<th scope="col" class="org-left">?systemBlock</th>
<th scope="col" class="org-left">? ?parent</th>
<th scope="col" class="org-left">? List&lt;&gt; ?directlyPreceeds</th>
<th scope="col" class="org-left">? ?isConnectedTo</th>
<th scope="col" class="org-left">? xsd:string ?label</th>
<th scope="col" class="org-left">? xsd:string ?description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="org-left">ex:CoffeeInput</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">ex:CoffeeMachine</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">()</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left">ex:MilkInput</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">ex:CoffeeMachine</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">()</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left">ex:WaterInput</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">ex:CoffeeMachine</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">()</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left">ex:WaterTankInput</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">ex:CoffeeMachine</td>
<td class="org-left">ex:WaterInput</td>
<td class="org-left">()</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left">ex:GrinderInput</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">ex:Grinder</td>
<td class="org-left">ex:CoffeeInput</td>
<td class="org-left">()</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left">ex:SteamerInput</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">ex:Steamer</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">()</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left">ex:WaterHeaterInput</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">ex:WaterHeater</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">()</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">&#xa0;</td>
</tr>
</tbody>
</table>
</div>
</li>

<li><a id="org491f445"></a>OutletTerminals<br />
<div class="outline-text-5" id="text-10-3-1-3">
<table id="org3028881" border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-left" />

<col  class="org-left" />

<col  class="org-left" />

<col  class="org-left" />

<col  class="org-left" />

<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<thead>
<tr>
<th scope="col" class="org-left">?id</th>
<th scope="col" class="org-left">?aspect</th>
<th scope="col" class="org-left">?systemBlock</th>
<th scope="col" class="org-left">? ?parent</th>
<th scope="col" class="org-left">? List&lt;&gt; ?directlyPreceeds</th>
<th scope="col" class="org-left">? ?isConnectedTo</th>
<th scope="col" class="org-left">? xsd:string ?label</th>
<th scope="col" class="org-left">? xsd:string ?description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="org-left">ex:CupTray</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">ex:CoffeeMachine</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">( ex:CoffeeInput ex:MilkInput ex:WaterInput )</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">'Landing area for produced coffee'</td>
</tr>

<tr>
<td class="org-left">ex:GrinderOutput</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">ex:Grinder</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">()</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left">ex:WaterTankOutput</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">ex:WaterTank</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">()</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">&#xa0;</td>
</tr>
</tbody>
</table>
</div>
</li>

<li><a id="org4de826b"></a>Connections<br />
<div class="outline-text-5" id="text-10-3-1-4">
<table id="orgfd32ec4" border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-left" />

<col  class="org-left" />

<col  class="org-left" />

<col  class="org-left" />

<col  class="org-left" />

<col  class="org-left" />

<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<thead>
<tr>
<th scope="col" class="org-left">?id</th>
<th scope="col" class="org-left">?aspect</th>
<th scope="col" class="org-left">? ?parent</th>
<th scope="col" class="org-left">?inletTerminal</th>
<th scope="col" class="org-left">?connectedInputTerminal</th>
<th scope="col" class="org-left">?outletTerminal</th>
<th scope="col" class="org-left">?connectedOutputTerminal</th>
<th scope="col" class="org-left">xsd:string ?label</th>
<th scope="col" class="org-left">? xsd:string ?description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="org-left">ex:WaterConnection</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">[]</td>
<td class="org-left">ex:WaterTankOutput</td>
<td class="org-left">[]</td>
<td class="org-left">ex:WaterHeaterInput</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">&#xa0;</td>
</tr>
</tbody>
</table>
</div>
</li>
</ol>
</div>
<div id="outline-container-org8110014" class="outline-4">
<h4 id="org8110014"><span class="section-number-4">10.3.2</span> Data as OTTR instances in RDF syntax</h4>
<div class="outline-text-4" id="text-10-3-2">
<div class="org-src-container">
<pre class="src src-ttl">@prefix xsd:	&lt;http://www.w3.org/2001/XMLSchema#&gt; .
@prefix rdf:	&lt;http://www.w3.org/1999/02/22-rdf-syntax-ns#&gt; .
@prefix rdfs:	&lt;http://www.w3.org/2000/01/rdf-schema#&gt; .
@prefix owl:    &lt;http://www.w3.org/2002/07/owl#&gt; .
@prefix skos:	&lt;http://www.w3.org/2004/02/skos/core#&gt; .
@prefix pav:	&lt;http://purl.org/pav/&gt; .
@prefix sh: 	&lt;http://www.w3.org/ns/shacl#&gt; . 
@prefix shsh:   &lt;http://www.w3.org/ns/shacl-shacl#&gt; .
@prefix ex:	&lt;http://example.com#&gt; .
@prefix imf:	&lt;http://ns.imfid.org/imf#&gt; .
@prefix ottr:        &lt;http://ns.ottr.xyz/0.4/&gt; .
@prefix o-rdf:       &lt;http://tpl.ottr.xyz/rdf/0.1/&gt; .
@prefix o-owl-ax:    &lt;http://tpl.ottr.xyz/owl/axiom/0.1/&gt; .
@prefix o-owl-ma:    &lt;http://tpl.ottr.xyz/owl/macro/0.1/&gt; .
@prefix o-owl-rstr:  &lt;http://tpl.ottr.xyz/owl/restriction/0.1/&gt; .
@prefix o-imf:	     &lt;http://ns.imfid.org/templates/&gt; .
@prefix ex:	&lt;http://example.com#&gt; .

[] ottr:of o-imf:SystemBlock ;
   ottr:values ( ex:CoffeeMachine imf:Function ottr:none 'Coffee machine' 'Makes different variants of espresso based coffee possibly with milk' () ) . 
[] ottr:of o-imf:SystemBlock ;
   ottr:values ( ex:Grinder ottr:none ex:CoffeeMachine ottr:none 'Grinds coffee beans' () ) . 
[] ottr:of o-imf:SystemBlock ;
   ottr:values ( ex:Steamer ottr:none ex:CoffeeMachine ottr:none 'Steams milk with water steam' () ) . 
[] ottr:of o-imf:SystemBlock ;
   ottr:values ( ex:Mixer ottr:none ex:CoffeeMachine ottr:none 'Mixes coffee and milk to perfection' () ) . 
[] ottr:of o-imf:SystemBlock ;
   ottr:values ( ex:WaterHeater ottr:none ex:CoffeeMachine ottr:none 'Heats water' () ) . 
[] ottr:of o-imf:SystemBlock ;
   ottr:values ( ex:WaterTank ottr:none ex:CoffeeMachine ottr:none 'Stores water' () ) . 

[] ottr:of o-imf:InletTerminal ;
   ottr:values ( ex:CoffeeInput ottr:none ex:CoffeeMachine ottr:none () ottr:none ottr:none ottr:none ) . 
[] ottr:of o-imf:InletTerminal ;
   ottr:values ( ex:MilkInput ottr:none ex:CoffeeMachine ottr:none () ottr:none ottr:none ottr:none ) . 
[] ottr:of o-imf:InletTerminal ;
   ottr:values ( ex:WaterInput ottr:none ex:CoffeeMachine ottr:none () ottr:none ottr:none ottr:none ) . 
[] ottr:of o-imf:InletTerminal ;
   ottr:values ( ex:WaterTankInput ottr:none ex:CoffeeMachine ex:WaterInput () ottr:none ottr:none ottr:none ) . 
[] ottr:of o-imf:InletTerminal ;
   ottr:values ( ex:GrinderInput ottr:none ex:Grinder ex:CoffeeInput () ottr:none ottr:none ottr:none ) . 
[] ottr:of o-imf:InletTerminal ;
   ottr:values ( ex:SteamerInput ottr:none ex:Steamer ottr:none () ottr:none ottr:none ottr:none ) . 
[] ottr:of o-imf:InletTerminal ;
   ottr:values ( ex:WaterHeaterInput ottr:none ex:WaterHeater ottr:none () ottr:none ottr:none ottr:none ) . 

[] ottr:of o-imf:OutletTerminal ;
   ottr:values ( ex:CupTray ottr:none ex:CoffeeMachine ottr:none ( ex:CoffeeInput ex:MilkInput ex:WaterInput ) ottr:none ottr:none 'Landing area for produced coffee' ) . 
[] ottr:of o-imf:OutletTerminal ;
   ottr:values ( ex:GrinderOutput ottr:none ex:Grinder ottr:none () ottr:none ottr:none ottr:none ) . 
[] ottr:of o-imf:OutletTerminal ;
   ottr:values ( ex:WaterTankOutput ottr:none ex:WaterTank ottr:none () ottr:none ottr:none ottr:none ) . 

[] ottr:of o-imf:Connection ;
   ottr:values ( ex:WaterConnection ottr:none ottr:none [] ex:WaterTankOutput [] ex:WaterHeaterInput ottr:none ottr:none ) . 

</pre>
</div>
</div>
</div>

<div id="outline-container-org3d93b3e" class="outline-4">
<h4 id="org3d93b3e"><span class="section-number-4">10.3.3</span> Data as as RDF turtle</h4>
<div class="outline-text-4" id="text-10-3-3">
<p>
The RDF data is generated by expanding the OTTR instances as defined
by the OTTR templates.
</p>

<pre class="example">
SLF4J: Failed to load class "org.slf4j.impl.StaticLoggerBinder".
SLF4J: Defaulting to no-operation (NOP) logger implementation
SLF4J: See http://www.slf4j.org/codes.html#StaticLoggerBinder for further details.

# [INFO] Fetched template: http://tpl.ottr.xyz/owl/axiom/0.1/SubClassOf

# [INFO] Fetched template: http://tpl.ottr.xyz/owl/axiom/0.1/SubObjectAllValuesFrom

# [INFO] Fetched template: http://tpl.ottr.xyz/owl/macro/0.1/DomainRange

# [INFO] Fetched template: http://tpl.ottr.xyz/rdf/0.1/Type

# [INFO] Fetched template: http://tpl.ottr.xyz/owl/axiom/0.1/EquivObjectHasValue

# [INFO] Fetched template: http://tpl.ottr.xyz/owl/axiom/0.1/SubObjectPropertyOf

# [INFO] Fetched template: http://tpl.ottr.xyz/owl/restriction/0.1/ObjectAllValuesFrom

# [INFO] Fetched template: http://tpl.ottr.xyz/owl/axiom/0.1/EquivalentClass

# [INFO] Fetched template: http://tpl.ottr.xyz/owl/axiom/0.1/SubPropertyOf

# [INFO] Fetched template: http://tpl.ottr.xyz/owl/restriction/0.1/ObjectHasValue

# [INFO] Fetched template: http://tpl.ottr.xyz/owl/restriction/0.1/AllValuesFrom

# [INFO] Fetched template: http://tpl.ottr.xyz/owl/restriction/0.1/HasValue

# [INFO] Fetched template: http://tpl.ottr.xyz/owl/util/0.1/ValueRestriction
rapper: Parsing URI file:///home/martige/repo/imf-lab/imf-ontology/rdf-examples/coffee-machine.wottr.ttl.temp with parser turtle
rapper: Serializing with serializer turtle
rapper: Parsing returned 45 triples
</pre>

<p>
This is the resulting RDF data:
</p>

<div class="org-src-container">
<pre class="src src-ttl">@prefix rdf: &lt;http://www.w3.org/1999/02/22-rdf-syntax-ns#&gt; .
@prefix imf: &lt;http://ns.imfid.org/imf#&gt; .
@prefix pav: &lt;http://purl.org/pav/&gt; .
@prefix o-rdf: &lt;http://tpl.ottr.xyz/rdf/0.1/&gt; .
@prefix o-owl-rstr: &lt;http://tpl.ottr.xyz/owl/restriction/0.1/&gt; .
@prefix owl: &lt;http://www.w3.org/2002/07/owl#&gt; .
@prefix xsd: &lt;http://www.w3.org/2001/XMLSchema#&gt; .
@prefix skos: &lt;http://www.w3.org/2004/02/skos/core#&gt; .
@prefix rdfs: &lt;http://www.w3.org/2000/01/rdf-schema#&gt; .
@prefix ex: &lt;http://example.com#&gt; .
@prefix sh: &lt;http://www.w3.org/ns/shacl#&gt; .
@prefix o-imf: &lt;http://ns.imfid.org/templates/&gt; .
@prefix ottr: &lt;http://ns.ottr.xyz/0.4/&gt; .
@prefix o-owl-ma: &lt;http://tpl.ottr.xyz/owl/macro/0.1/&gt; .
@prefix o-owl-ax: &lt;http://tpl.ottr.xyz/owl/axiom/0.1/&gt; .
@prefix shsh: &lt;http://www.w3.org/ns/shacl-shacl#&gt; .

ex:CoffeeInput
    imf:directlyPrecedes ex:CupTray ;
    a imf:InletTerminal .

ex:CoffeeMachine
    imf:hasAspect imf:Function ;
    imf:hasInletTerminal ex:CoffeeInput, ex:MilkInput, ex:WaterInput, ex:WaterTankInput ;
    imf:hasOutletTerminal ex:CupTray ;
    a imf:SystemBlock ;
    skos:note "Makes different variants of espresso based coffee possibly with milk" ;
    skos:prefLabel "Coffee machine" .

ex:CupTray
    a imf:OutletTerminal ;
    skos:note "Landing area for produced coffee" .

ex:Grinder
    imf:hasInletTerminal ex:GrinderInput ;
    imf:hasOutletTerminal ex:GrinderOutput ;
    imf:hasParent ex:CoffeeMachine ;
    a imf:SystemBlock ;
    skos:note "Grinds coffee beans" .

ex:GrinderInput
    imf:hasParent ex:CoffeeInput ;
    a imf:InletTerminal .

ex:GrinderOutput
    a imf:OutletTerminal .

ex:MilkInput
    imf:directlyPrecedes ex:CupTray ;
    a imf:InletTerminal .

ex:Mixer
    imf:hasParent ex:CoffeeMachine ;
    a imf:SystemBlock ;
    skos:note "Mixes coffee and milk to perfection" .

ex:Steamer
    imf:hasInletTerminal ex:SteamerInput ;
    imf:hasParent ex:CoffeeMachine ;
    a imf:SystemBlock ;
    skos:note "Steams milk with water steam" .

ex:SteamerInput
    a imf:InletTerminal .

ex:WaterHeater
    imf:hasInletTerminal ex:WaterHeaterInput ;
    imf:hasParent ex:CoffeeMachine ;
    a imf:SystemBlock ;
    skos:note "Heats water" .

ex:WaterHeaterInput
    a imf:InletTerminal .

ex:WaterInput
    imf:directlyPrecedes ex:CupTray ;
    a imf:InletTerminal .

ex:WaterTank
    imf:hasOutletTerminal ex:WaterTankOutput ;
    imf:hasParent ex:CoffeeMachine ;
    a imf:SystemBlock ;
    skos:note "Stores water" .

ex:WaterTankInput
    imf:hasParent ex:WaterInput ;
    a imf:InletTerminal .

ex:WaterTankOutput
    a imf:OutletTerminal .
</pre>
</div>
</div>
</div>

<div id="outline-container-orgcf0dd65" class="outline-4">
<h4 id="orgcf0dd65"><span class="section-number-4">10.3.4</span> Validate RDF using SHACL</h4>
<div class="outline-text-4" id="text-10-3-4">
<div class="org-src-container">
<pre class="src src-ttl">@prefix rdf:  &lt;http://www.w3.org/1999/02/22-rdf-syntax-ns#&gt; .
@prefix rdfs: &lt;http://www.w3.org/2000/01/rdf-schema#&gt; .
@prefix sh:   &lt;http://www.w3.org/ns/shacl#&gt; .
@prefix xsd:  &lt;http://www.w3.org/2001/XMLSchema#&gt; .

[ rdf:type     sh:ValidationReport ;
  sh:conforms  true
] .
</pre>
</div>

<div class="org-src-container">
<pre class="src src-ttl">@prefix rdf:  &lt;http://www.w3.org/1999/02/22-rdf-syntax-ns#&gt; .
@prefix rdfs: &lt;http://www.w3.org/2000/01/rdf-schema#&gt; .
@prefix sh:   &lt;http://www.w3.org/ns/shacl#&gt; .
@prefix xsd:  &lt;http://www.w3.org/2001/XMLSchema#&gt; .

[ rdf:type     sh:ValidationReport ;
  sh:conforms  true
] .
</pre>
</div>
</div>
</div>

<div id="outline-container-orgc77ef2e" class="outline-4">
<h4 id="orgc77ef2e"><span class="section-number-4">10.3.5</span> Visualise RDF data</h4>
<div class="outline-text-4" id="text-10-3-5">
<p>
This is a default graph visualisation of the RDF data:
</p>


<div class="figure">
<p><object type="image/svg+xml" data="./rdf-examples/coffee-machine.ttl.svg" class="org-svg">
Sorry, your browser does not support SVG.</object>
</p>
</div>
</div>
</div>
</div>
</div>


<div id="outline-container-orgdc9e262" class="outline-2">
<h2 id="orgdc9e262"><span class="section-number-2">11</span> Software</h2>
<div class="outline-text-2" id="text-11">
</div>
<div id="outline-container-org8213341" class="outline-3">
<h3 id="org8213341"><span class="section-number-3">11.1</span> Apache Jena</h3>
<div class="outline-text-3" id="text-11-1">
<p>
<a href="https://jena.apache.org/">https://jena.apache.org/</a>:
</p>

<p>
"A free and open source Java framework for building Semantic Web and
Linked Data applications", including reading and writing RDF, SHACL
validation and SPARQL query processing.
</p>

<p>
This section contains the script calls used for processing the RDF
code snippets in this document.
</p>
</div>

<div id="outline-container-org00e6525" class="outline-4">
<h4 id="org00e6525"><span class="section-number-4">11.1.1</span> RIOT</h4>
<div class="outline-text-4" id="text-11-1-1">
<p>
Reading, writing and validating RDF.
</p>

<div class="org-src-container">
<pre class="src src-sh">bin/apache-jena/bin/riot --help
</pre>
</div>

<div class="org-src-container">
<pre class="src src-sh" id="org70069db">bin/apache-jena/bin/riot --verbose --syntax=$syntax --validate --time $files 
</pre>
</div>

<div class="org-src-container">
<pre class="src src-sh" id="orgfc40df3">bin/apache-jena/bin/riot --verbose --syntax=$syntax --check --formatted=ttl --time $files &gt; $out
</pre>
</div>
</div>
</div>

<div id="outline-container-org0fb945e" class="outline-4">
<h4 id="org0fb945e"><span class="section-number-4">11.1.2</span> SHACL</h4>
<div class="outline-text-4" id="text-11-1-2">
<p>
Validate RDF wrt. SHACL shapes.
</p>

<div class="org-src-container">
<pre class="src src-sh">bin/apache-jena/bin/shacl v --help
</pre>
</div>

<div class="org-src-container">
<pre class="src src-sh" id="org49e8d43">bin/apache-jena/bin/shacl v --shapes shacl/imf-all.shacl.ttl --data $data
</pre>
</div>


<div class="org-src-container">
<pre class="src src-sh" id="org8371d71">bin/apache-jena/bin/shacl v --shapes http://shipshape.dyreriket.xyz/std-vocabulary-elements.ttl --shapes https://spec.ottr.xyz/wOTTR/0.4.3/core-grammar.shacl.ttl --data $data
</pre>
</div>
</div>
</div>


<div id="outline-container-org72b1636" class="outline-4">
<h4 id="org72b1636"><span class="section-number-4">11.1.3</span> SPARQL</h4>
<div class="outline-text-4" id="text-11-1-3">
<p>
Query RDF.
</p>

<div class="org-src-container">
<pre class="src src-sh">bin/apache-jena/bin/sparql --help
</pre>
</div>


<div class="org-src-container">
<pre class="src src-sh" id="org68c562e">echo "$query" &gt; temp/.temp-sh_jena_sparql
bin/apache-jena/bin/sparql --results=text --data=$files --query temp/.temp-sh_jena_sparql
</pre>
</div>

<pre class="example">
-----------------------------------------------------------------------------------------------
| s                        | p                                             | o                |
===============================================================================================
| imf:hierarchicalRelation | &lt;http://www.w3.org/2000/01/rdf-schema#domain&gt; | imf:AspectObject |
-----------------------------------------------------------------------------------------------

</pre>
</div>
</div>
</div>


<div id="outline-container-org12efddf" class="outline-3">
<h3 id="org12efddf"><span class="section-number-3">11.2</span> Lutra</h3>
<div class="outline-text-3" id="text-11-2">
<p>
Lutra is the reference implementation for working with OTTR templates
and instances.
</p>

<p>
This section contains the scripts that are used to expand the OTTR
instances found in this document.
</p>

<div class="org-src-container">
<pre class="src src-sh" id="org6fa6fa8">java -jar bin/lutra.jar --help
</pre>
</div>

<div class="org-src-container">
<pre class="src src-sh" id="orgc1205b4">java -jar bin/lutra.jar -l ottr -L stottr -f -p .std-prefixes.ttl -o $in.temp $in 
rapper -i turtle -o turtle $in.temp &gt; $out
</pre>
</div>
</div>
</div>
<div id="outline-container-org5d32fbd" class="outline-3">
<h3 id="org5d32fbd"><span class="section-number-3">11.3</span> RDFVizler with rules</h3>
<div class="outline-text-3" id="text-11-3">
<p>
<a href="https://rdfvizler.dyreriket.xyz/">https://rdfvizler.dyreriket.xyz/</a>:
</p>

<blockquote>
<p>
RDFVizler is a simple RDF visualisation software built with the Apache
Jena Java API and Graphviz visualisation software. It requires Java 8
and Graphviz to be installed on the system.
</p>

<p>
RDFVizler visualises RDF graphs by parsing a designated RDFVizler OWL
vocabulary into Graphviz's DOT language and then straight-forwardly to
images using the Graphviz software. The RDFVizler vocabulary acts as a
mere "RDF wrapper language" for the DOT language, all graph, edge and
node attributes are taken directly from DOT."
</p>
</blockquote>
</div>

<div id="outline-container-org756bb4e" class="outline-4">
<h4 id="org756bb4e"><span class="section-number-4">11.3.1</span> Script calls</h4>
<div class="outline-text-4" id="text-11-3-1">
<div class="org-src-container">
<pre class="src src-sh">java -jar bin/rdfvizler.jar --help
</pre>
</div>


<div class="org-src-container">
<pre class="src src-sh" id="org260ae14">java -jar bin/rdfvizler.jar --rules=$rules $data &gt; $output
</pre>
</div>
</div>
</div>

<div id="outline-container-orgc69246b" class="outline-4">
<h4 id="orgc69246b"><span class="section-number-4">11.3.2</span> Ontology import hierarchy</h4>
<div class="outline-text-4" id="text-11-3-2">
<p>
This rule set visualises the owl:imports hierarchy.
</p>

<div class="org-src-container">
<pre class="src src-ttl">@prefix xsd:	&lt;http://www.w3.org/2001/XMLSchema#&gt; .
@prefix rdf:	&lt;http://www.w3.org/1999/02/22-rdf-syntax-ns#&gt; .
@prefix rdfs:	&lt;http://www.w3.org/2000/01/rdf-schema#&gt; .
@prefix owl:    &lt;http://www.w3.org/2002/07/owl#&gt; .
@prefix skos:	&lt;http://www.w3.org/2004/02/skos/core#&gt; .
@prefix pav:	&lt;http://purl.org/pav/&gt; .
@prefix sh: 	&lt;http://www.w3.org/ns/shacl#&gt; . 
@prefix shsh:   &lt;http://www.w3.org/ns/shacl-shacl#&gt; .
@prefix ex:	&lt;http://example.com#&gt; .
@prefix imf:	&lt;http://ns.imfid.org/imf#&gt; .
@prefix ottr:        &lt;http://ns.ottr.xyz/0.4/&gt; .
@prefix o-rdf:       &lt;http://tpl.ottr.xyz/rdf/0.1/&gt; .
@prefix o-owl-ax:    &lt;http://tpl.ottr.xyz/owl/axiom/0.1/&gt; .
@prefix o-owl-ma:    &lt;http://tpl.ottr.xyz/owl/macro/0.1/&gt; .
@prefix o-owl-rstr:  &lt;http://tpl.ottr.xyz/owl/restriction/0.1/&gt; .
@prefix o-imf:	     &lt;http://ns.imfid.org/templates/&gt; .
@prefix rvz:  &lt;http://rdfvizler.dyreriket.xyz/vocabulary/core#&gt; .
@prefix rvz-a: &lt;http://rdfvizler.dyreriket.xyz/vocabulary/attribute#&gt; .
@prefix rvz-n: &lt;http://rdfvizler.dyreriket.xyz/vocabulary/attribute-default-node#&gt; .
@prefix rvz-e: &lt;http://rdfvizler.dyreriket.xyz/vocabulary/attribute-default-edge#&gt; .
@prefix :      &lt;urn:temp#&gt;

### GRAPH default settings
    [init:
        -&gt;
        (:graph rdf:type rvz:RootGraph)
        (:graph rdf:type rvz:DiGraph)
        (:graph rvz-a:rankdir "LR")
        (:graph rvz-a:center "true")
        (:graph rvz-a:overlap "true")       
        // node defaults
        (:graph rvz-n:fontname "Arial")
        (:graph rvz-n:fontsize "8px")
        // edge defaults
        (:graph rvz-e:fontname "Arial")
        (:graph rvz-e:fontsize "8px")
        ]

    [imports:
        (?ont owl:versionIRI ?iri)
        (?ont owl:imports ?import)
        makeSkolem(?_edge, ?iri, ?import)
        -&gt;
        (:graph rvz:hasEdge ?_edge)
        (:graph rvz:hasNode ?iri)
        (:graph rvz:hasNode ?import)
        (?_edge rvz:hasSource ?iri)
        (?_edge rvz:hasTarget ?import)
        ]
</pre>
</div>

<pre class="example">
Exception in thread "main" picocli.CommandLine$ExecutionException: Error while running command (xyz.dyreriket.rdfvizler.cli.RDFVizlerCLI@7c83dc97): org.apache.jena.ttl.turtle.TurtleParseException: Line 9, column 17: org.apache.jena.iri.impl.IRIImplException: &lt;http://ns.imfid.org/ontology/[unreleased]/imf-aspects&gt; Code: 0/ILLEGAL_CHARACTER in PATH: The character violates the grammar rules for URIs/IRIs.
	at picocli.CommandLine.execute(CommandLine.java:1056)
	at picocli.CommandLine.access$900(CommandLine.java:142)
	at picocli.CommandLine$RunLast.handle(CommandLine.java:1255)
	at picocli.CommandLine$RunLast.handle(CommandLine.java:1223)
	at picocli.CommandLine$AbstractParseResultHandler.handleParseResult(CommandLine.java:1131)
	at picocli.CommandLine.parseWithHandlers(CommandLine.java:1414)
	at picocli.CommandLine.run(CommandLine.java:1878)
	at picocli.CommandLine.run(CommandLine.java:1808)
	at xyz.dyreriket.rdfvizler.cli.RDFVizlerCLI.main(RDFVizlerCLI.java:129)
Caused by: org.apache.jena.ttl.turtle.TurtleParseException: Line 9, column 17: org.apache.jena.iri.impl.IRIImplException: &lt;http://ns.imfid.org/ontology/[unreleased]/imf-aspects&gt; Code: 0/ILLEGAL_CHARACTER in PATH: The character violates the grammar rules for URIs/IRIs.
	at org.apache.jena.ttl.turtle.TurtleParserBase.throwParseException(TurtleParserBase.java:286)
	at org.apache.jena.ttl.turtle.TurtleParserBase._resolveIRI(TurtleParserBase.java:199)
	at org.apache.jena.ttl.turtle.TurtleParserBase.resolveIRI(TurtleParserBase.java:192)
	at org.apache.jena.ttl.turtle.TurtleParserBase.resolveQuotedIRI(TurtleParserBase.java:183)
	at org.apache.jena.ttl.turtle.parser.TurtleParser.IRI_REF(TurtleParser.java:738)
	at org.apache.jena.ttl.turtle.parser.TurtleParser.IRIref(TurtleParser.java:681)
	at org.apache.jena.ttl.turtle.parser.TurtleParser.GraphTerm(TurtleParser.java:496)
	at org.apache.jena.ttl.turtle.parser.TurtleParser.VarOrTerm(TurtleParser.java:420)
	at org.apache.jena.ttl.turtle.parser.TurtleParser.GraphNode(TurtleParser.java:383)
	at org.apache.jena.ttl.turtle.parser.TurtleParser.Object(TurtleParser.java:236)
	at org.apache.jena.ttl.turtle.parser.TurtleParser.ObjectList(TurtleParser.java:218)
	at org.apache.jena.ttl.turtle.parser.TurtleParser.PropertyListNotEmpty(TurtleParser.java:206)
	at org.apache.jena.ttl.turtle.parser.TurtleParser.TriplesSameSubject(TurtleParser.java:151)
	at org.apache.jena.ttl.turtle.parser.TurtleParser.Statement(TurtleParser.java:97)
	at org.apache.jena.ttl.turtle.parser.TurtleParser.parse(TurtleParser.java:67)
	at org.apache.jena.ttl.turtle.ParserTurtle.parse(ParserTurtle.java:48)
	at org.apache.jena.ttl.turtle.TurtleReader.readWorker(TurtleReader.java:36)
	at org.apache.jena.ttl.JenaReaderBase.readImpl(JenaReaderBase.java:116)
	at org.apache.jena.ttl.JenaReaderBase.read(JenaReaderBase.java:81)
	at org.apache.jena.rdf.model.impl.ModelCom.read(ModelCom.java:253)
	at org.apache.jena.util.FileManagerImpl.readModelWorker(FileManagerImpl.java:438)
	at org.apache.jena.util.FileManagerImpl.loadModelWorker(FileManagerImpl.java:340)
	at org.apache.jena.util.FileManagerImpl.loadModel(FileManagerImpl.java:308)
	at xyz.dyreriket.rdfvizler.util.Models.readModel(Models.java:65)
	at xyz.dyreriket.rdfvizler.util.Models.readModel(Models.java:54)
	at xyz.dyreriket.rdfvizler.RDFVizler.readModel(RDFVizler.java:59)
	at xyz.dyreriket.rdfvizler.RDFVizler.writeDotGraph(RDFVizler.java:111)
	at xyz.dyreriket.rdfvizler.RDFVizler.write(RDFVizler.java:99)
	at xyz.dyreriket.rdfvizler.cli.RDFVizlerCLI.processFile(RDFVizlerCLI.java:152)
	at xyz.dyreriket.rdfvizler.cli.RDFVizlerCLI.run(RDFVizlerCLI.java:162)
	at picocli.CommandLine.execute(CommandLine.java:1048)
	... 8 more
</pre>
</div>
</div>

<div id="outline-container-org9803d60" class="outline-4">
<h4 id="org9803d60"><span class="section-number-4">11.3.3</span> Ontology overview</h4>
<div class="outline-text-4" id="text-11-3-3">
<p>
This rule set creates a overview visualisation of an ontology taking
only the "easy to visualise" structures like classes, subclass
relations, properties with their domain and range, and instances.
</p>

<div class="org-src-container">
<pre class="src src-ttl">@prefix xsd:	&lt;http://www.w3.org/2001/XMLSchema#&gt; .
@prefix rdf:	&lt;http://www.w3.org/1999/02/22-rdf-syntax-ns#&gt; .
@prefix rdfs:	&lt;http://www.w3.org/2000/01/rdf-schema#&gt; .
@prefix owl:    &lt;http://www.w3.org/2002/07/owl#&gt; .
@prefix skos:	&lt;http://www.w3.org/2004/02/skos/core#&gt; .
@prefix pav:	&lt;http://purl.org/pav/&gt; .
@prefix sh: 	&lt;http://www.w3.org/ns/shacl#&gt; . 
@prefix shsh:   &lt;http://www.w3.org/ns/shacl-shacl#&gt; .
@prefix ex:	&lt;http://example.com#&gt; .
@prefix imf:	&lt;http://ns.imfid.org/imf#&gt; .
@prefix ottr:        &lt;http://ns.ottr.xyz/0.4/&gt; .
@prefix o-rdf:       &lt;http://tpl.ottr.xyz/rdf/0.1/&gt; .
@prefix o-owl-ax:    &lt;http://tpl.ottr.xyz/owl/axiom/0.1/&gt; .
@prefix o-owl-ma:    &lt;http://tpl.ottr.xyz/owl/macro/0.1/&gt; .
@prefix o-owl-rstr:  &lt;http://tpl.ottr.xyz/owl/restriction/0.1/&gt; .
@prefix o-imf:	     &lt;http://ns.imfid.org/templates/&gt; .
@prefix rvz:  &lt;http://rdfvizler.dyreriket.xyz/vocabulary/core#&gt; .
@prefix rvz-a: &lt;http://rdfvizler.dyreriket.xyz/vocabulary/attribute#&gt; .
@prefix rvz-n: &lt;http://rdfvizler.dyreriket.xyz/vocabulary/attribute-default-node#&gt; .
@prefix rvz-e: &lt;http://rdfvizler.dyreriket.xyz/vocabulary/attribute-default-edge#&gt; .
@prefix :      &lt;urn:temp#&gt;

    [init-graph:
        -&gt;
        (:graph rdf:type rvz:RootGraph)
        (:graph rdf:type rvz:DiGraph)
        (:graph rvz-a:rankdir "BT")
        (:graph rvz-a:center "true")
        // node defaults
	(:graph rvz-n:shape "box")
        (:graph rvz-n:fontname "Arial")
        (:graph rvz-n:fontsize "8px")
        // edge defaults
        (:graph rvz-e:fontname "Arial")
        (:graph rvz-e:fontsize "8px")
        ]

    [class:
        (?s rdf:type owl:Class)
	notBNode(?s)
        -&gt;
        (:graph rvz:hasNode ?s)
        ]

    [individual:
        (:graph rvz:hasNode ?s)
        (?i rdf:type ?s)
        makeSkolem(?edge, ?i, rdf:type, ?s)
        -&gt;
        (:graph rvz:hasNode ?i)
        (:graph rvz:hasEdge ?edge)
        (?edge :predicate rdf:type)
        (?edge rvz-a:style "dotted")
        (?edge rvz:hasSource ?i)
        (?edge rvz:hasTarget ?s)
        ]

    [label-node:
        (:graph rvz:hasNode ?node)
        shortvalue(?node ?label)
        -&gt;
	(?node rvz-a:label ?label)
        ]

    [subclass:
        (?s rdfs:subClassOf ?o)
        makeSkolem(?edge, ?s, rdfs:subClassOf, ?o)
        -&gt;
        (:graph rvz:hasEdge ?edge)
        (?edge :predicate ?p)
        (?edge rvz-a:arrowhead "empty")
        (?edge rvz-a:dir "forward")
        (:graph rvz:hasNode ?s)
        (:graph rvz:hasNode ?o)
        (?edge rvz:hasSource ?s)
        (?edge rvz:hasTarget ?o)
        ]

    [property:
        (?p rdfs:domain ?domain)
        (?p rdfs:range ?range)
        shortvalue(?p ?label)
        makeSkolem(?edge, ?domain, ?p, ?range)
        -&gt;
        (:graph rvz:hasEdge ?edge)
        (:graph rvz:hasNode ?domain)
        (:graph rvz:hasNode ?range)
        (?edge :predicate ?p)
	(?edge rvz-a:label ?label)
        (?edge rvz:hasSource ?domain)
        (?edge rvz:hasTarget ?range)
        ]

    [SubObjectExactCardinality:
        (?i ottr:of o-owl-ax:SubObjectExactCardinality)
        (?i ottr:values ?arg1)
	(?arg1 rdf:first ?domain)
	(?arg1 rdf:rest ?arg2)
	(?arg2 rdf:first ?card)
	(?arg2 rdf:rest ?arg3)
	(?arg3 rdf:first ?property)
	(?arg3 rdf:rest ?arg4)
	(?arg4 rdf:first ?range)
	shortvalue(?property ?plabel)
	strConcat(?plabel, " ", ?card, ?label)
        makeSkolem(?edge, ?domain, ?card, ?property, ?range)
	-&gt;
        (:graph rvz:hasEdge ?edge)
        (:graph rvz:hasNode ?domain)
        (:graph rvz:hasNode ?range)
        (?edge :predicate ?property)
	(?edge rvz-a:label ?label)
        (?edge rvz-a:constraint "false")
        (?edge rvz-a:dir "forward")
        (?edge rvz-a:arrowhead "teetee")
        (?edge rvz:hasSource ?domain)
        (?edge rvz:hasTarget ?range)
        ]

    [Blanks:
	(:graph rvz:hasNode ?node)
	isBNode(?node)
	typedvalue(?node, ?label)
	-&gt;
	(?node rvz-a:label ?label)
	(?node rvz-a:shape "box")
	(?node rvz-a:style "filled,dashed")
	(?node rvz-a:fillcolor "gray90")
	(?node rvz-a:height ".3")
	(?node rvz-a:width ".3")
	]
</pre>
</div>

<pre class="example">
Exception in thread "main" picocli.CommandLine$ExecutionException: Error while running command (xyz.dyreriket.rdfvizler.cli.RDFVizlerCLI@7c83dc97): org.apache.jena.ttl.turtle.TurtleParseException: Line 9, column 17: org.apache.jena.iri.impl.IRIImplException: &lt;http://ns.imfid.org/ontology/[unreleased]/imf-aspects&gt; Code: 0/ILLEGAL_CHARACTER in PATH: The character violates the grammar rules for URIs/IRIs.
	at picocli.CommandLine.execute(CommandLine.java:1056)
	at picocli.CommandLine.access$900(CommandLine.java:142)
	at picocli.CommandLine$RunLast.handle(CommandLine.java:1255)
	at picocli.CommandLine$RunLast.handle(CommandLine.java:1223)
	at picocli.CommandLine$AbstractParseResultHandler.handleParseResult(CommandLine.java:1131)
	at picocli.CommandLine.parseWithHandlers(CommandLine.java:1414)
	at picocli.CommandLine.run(CommandLine.java:1878)
	at picocli.CommandLine.run(CommandLine.java:1808)
	at xyz.dyreriket.rdfvizler.cli.RDFVizlerCLI.main(RDFVizlerCLI.java:129)
Caused by: org.apache.jena.ttl.turtle.TurtleParseException: Line 9, column 17: org.apache.jena.iri.impl.IRIImplException: &lt;http://ns.imfid.org/ontology/[unreleased]/imf-aspects&gt; Code: 0/ILLEGAL_CHARACTER in PATH: The character violates the grammar rules for URIs/IRIs.
	at org.apache.jena.ttl.turtle.TurtleParserBase.throwParseException(TurtleParserBase.java:286)
	at org.apache.jena.ttl.turtle.TurtleParserBase._resolveIRI(TurtleParserBase.java:199)
	at org.apache.jena.ttl.turtle.TurtleParserBase.resolveIRI(TurtleParserBase.java:192)
	at org.apache.jena.ttl.turtle.TurtleParserBase.resolveQuotedIRI(TurtleParserBase.java:183)
	at org.apache.jena.ttl.turtle.parser.TurtleParser.IRI_REF(TurtleParser.java:738)
	at org.apache.jena.ttl.turtle.parser.TurtleParser.IRIref(TurtleParser.java:681)
	at org.apache.jena.ttl.turtle.parser.TurtleParser.GraphTerm(TurtleParser.java:496)
	at org.apache.jena.ttl.turtle.parser.TurtleParser.VarOrTerm(TurtleParser.java:420)
	at org.apache.jena.ttl.turtle.parser.TurtleParser.GraphNode(TurtleParser.java:383)
	at org.apache.jena.ttl.turtle.parser.TurtleParser.Object(TurtleParser.java:236)
	at org.apache.jena.ttl.turtle.parser.TurtleParser.ObjectList(TurtleParser.java:218)
	at org.apache.jena.ttl.turtle.parser.TurtleParser.PropertyListNotEmpty(TurtleParser.java:206)
	at org.apache.jena.ttl.turtle.parser.TurtleParser.TriplesSameSubject(TurtleParser.java:151)
	at org.apache.jena.ttl.turtle.parser.TurtleParser.Statement(TurtleParser.java:97)
	at org.apache.jena.ttl.turtle.parser.TurtleParser.parse(TurtleParser.java:67)
	at org.apache.jena.ttl.turtle.ParserTurtle.parse(ParserTurtle.java:48)
	at org.apache.jena.ttl.turtle.TurtleReader.readWorker(TurtleReader.java:36)
	at org.apache.jena.ttl.JenaReaderBase.readImpl(JenaReaderBase.java:116)
	at org.apache.jena.ttl.JenaReaderBase.read(JenaReaderBase.java:81)
	at org.apache.jena.rdf.model.impl.ModelCom.read(ModelCom.java:253)
	at org.apache.jena.util.FileManagerImpl.readModelWorker(FileManagerImpl.java:438)
	at org.apache.jena.util.FileManagerImpl.loadModelWorker(FileManagerImpl.java:340)
	at org.apache.jena.util.FileManagerImpl.loadModel(FileManagerImpl.java:308)
	at xyz.dyreriket.rdfvizler.util.Models.readModel(Models.java:65)
	at xyz.dyreriket.rdfvizler.util.Models.readModel(Models.java:54)
	at xyz.dyreriket.rdfvizler.RDFVizler.readModel(RDFVizler.java:59)
	at xyz.dyreriket.rdfvizler.RDFVizler.writeDotGraph(RDFVizler.java:111)
	at xyz.dyreriket.rdfvizler.RDFVizler.write(RDFVizler.java:99)
	at xyz.dyreriket.rdfvizler.cli.RDFVizlerCLI.processFile(RDFVizlerCLI.java:152)
	at xyz.dyreriket.rdfvizler.cli.RDFVizlerCLI.run(RDFVizlerCLI.java:162)
	at picocli.CommandLine.execute(CommandLine.java:1048)
	... 8 more
</pre>
</div>
</div>

<div id="outline-container-org5fd9d1a" class="outline-4">
<h4 id="org5fd9d1a"><span class="section-number-4">11.3.4</span> <span class="todo TODO">TODO</span> IMF data</h4>
<div class="outline-text-4" id="text-11-3-4">
<p>
Work in process. Rule set for visualising IMF data.
</p>

<div class="org-src-container">
<pre class="src src-ttl">@prefix xsd:	&lt;http://www.w3.org/2001/XMLSchema#&gt; .
@prefix rdf:	&lt;http://www.w3.org/1999/02/22-rdf-syntax-ns#&gt; .
@prefix rdfs:	&lt;http://www.w3.org/2000/01/rdf-schema#&gt; .
@prefix owl:    &lt;http://www.w3.org/2002/07/owl#&gt; .
@prefix skos:	&lt;http://www.w3.org/2004/02/skos/core#&gt; .
@prefix pav:	&lt;http://purl.org/pav/&gt; .
@prefix sh: 	&lt;http://www.w3.org/ns/shacl#&gt; . 
@prefix shsh:   &lt;http://www.w3.org/ns/shacl-shacl#&gt; .
@prefix ex:	&lt;http://example.com#&gt; .
@prefix imf:	&lt;http://ns.imfid.org/imf#&gt; .
@prefix ottr:        &lt;http://ns.ottr.xyz/0.4/&gt; .
@prefix o-rdf:       &lt;http://tpl.ottr.xyz/rdf/0.1/&gt; .
@prefix o-owl-ax:    &lt;http://tpl.ottr.xyz/owl/axiom/0.1/&gt; .
@prefix o-owl-ma:    &lt;http://tpl.ottr.xyz/owl/macro/0.1/&gt; .
@prefix o-owl-rstr:  &lt;http://tpl.ottr.xyz/owl/restriction/0.1/&gt; .
@prefix o-imf:	     &lt;http://ns.imfid.org/templates/&gt; .
@prefix rvz:  &lt;http://rdfvizler.dyreriket.xyz/vocabulary/core#&gt; .
@prefix rvz-a: &lt;http://rdfvizler.dyreriket.xyz/vocabulary/attribute#&gt; .
@prefix rvz-n: &lt;http://rdfvizler.dyreriket.xyz/vocabulary/attribute-default-node#&gt; .
@prefix rvz-e: &lt;http://rdfvizler.dyreriket.xyz/vocabulary/attribute-default-edge#&gt; .
@prefix :      &lt;urn:temp#&gt;

### GRAPH default settings
    [init:
        -&gt;
        (:graph rdf:type rvz:RootGraph)
        (:graph rdf:type rvz:DiGraph)
        (:graph rvz-a:rankdir "LR")
        (:graph rvz-a:nodesep "1")
        (:graph rvz-a:ranksep "1")
        (:graph rvz-a:center "true")
        (:graph rvz-a:overlap "true")
        (:graph rvz-a:splines "ortho")
        // node defaults
        (:graph rvz-n:fontname "Arial")
        (:graph rvz-n:fontsize "8px")
        (:graph rvz-n:height ".3")
        (:graph rvz-n:width ".3")
        (:graph rvz-n:fixedsize "true")
        // edge defaults
        (:graph rvz-e:fontname "Arial")
        (:graph rvz-e:fontsize "8px")
        ]

### SELECTION: This rule selects the triples to be drawn. Selection is
### done on the basis of predicates. ONLY the nodes and edges selected
### here appear in the diagram.

    [triples:
        (?s ?p ?o)
        equalssome(?p, imf:hasChild, imf:hasTerminal, imf:connectedTo, imf:hasLocation, imf:fulfilledBy, imf:installedAs) 
        makeSkolem(?edge, ?s, ?p, ?o)
        -&gt;
        (:graph rvz:hasEdge ?edge)
        (?edge :predicate ?p)
        (:graph rvz:hasNode ?s)
        (:graph rvz:hasNode ?o)
        (?edge rvz:hasSource ?s)
        (?edge rvz:hasTarget ?o)
        ]

### EDGE FORMATTING

# constraint=false, see https://graphviz.org/docs/attrs/constraint/
    [imf:no-constraint:
        (?edge :predicate ?p)
        equalssome(?p, imf:connectedTo, imf:hasLocation, imf:fulfilledBy, imf:installedAs)
        -&gt;
        (?edge rvz-a:constraint "false")
        ]

    [edge-attribute
        (:graph rvz:hasEdge ?edge)
        (?edge :predicate ?p)
        (?p ?rvza ?value)
        namespace(?rvza, "http://rdfvizler.dyreriket.xyz/vocabulary/attribute#")
        -&gt;
        (?edge ?rvza ?value)
        ]

    [node-attribute
        (:graph rvz:hasNode ?node)
        (?node rdf:type ?class)
        (?class ?rvza ?value)
        namespace(?rvza, "http://rdfvizler.dyreriket.xyz/vocabulary/attribute#")
        -&gt;
        (?node ?rvza ?value)
        ]
</pre>
</div>
</div>
</div>
</div>
</div>

<div id="outline-container-org6c983ba" class="outline-2">
<h2 id="org6c983ba"><span class="section-number-2">12</span> Appendix</h2>
<div class="outline-text-2" id="text-12">
</div>
<div id="outline-container-orgee2c472" class="outline-3">
<h3 id="orgee2c472"><span class="section-number-3">12.1</span> Prefixes</h3>
<div class="outline-text-3" id="text-12-1">
<p>
This section contains the prefixes used throughout this document.
</p>
</div>

<div id="outline-container-org12fc8a3" class="outline-4">
<h4 id="org12fc8a3"><span class="section-number-4">12.1.1</span> Standard vocabulary prefixes</h4>
</div>

<div id="outline-container-org2e2c8b8" class="outline-4">
<h4 id="org2e2c8b8"><span class="section-number-4">12.1.2</span> IMF prefixes</h4>
<div class="outline-text-4" id="text-12-1-2">
<div class="org-src-container">
<pre class="src src-ttl" id="org46d6790">@prefix imf:	&lt;http://ns.imfid.org/imf#&gt; .
</pre>
</div>
</div>
</div>

<div id="outline-container-orge96e47b" class="outline-4">
<h4 id="orge96e47b"><span class="section-number-4">12.1.3</span> OTTR template prefixes</h4>
</div>
</div>

<div id="outline-container-orgcf8d426" class="outline-3">
<h3 id="orgcf8d426"><span class="section-number-3">12.2</span> SKOS</h3>
<div class="outline-text-3" id="text-12-2">
<p>
The IMF ontology uses vocabulary elements from the SKOS
vocabulary. For convenience, the definition of the most used
annotation properties are copied in from
<a href="https://www.w3.org/TR/skos-primer/#secdocumentation">https://www.w3.org/TR/skos-primer/#secdocumentation</a>:
</p>
</div>

<div id="outline-container-org2106e8b" class="outline-4">
<h4 id="org2106e8b"><span class="section-number-4">12.2.1</span> General documentation properties</h4>
<div class="outline-text-4" id="text-12-2-1">
<dl class="org-dl">
<dt>skos:scopeNote</dt><dd>supplies some, possibly partial, information
about the intended meaning of a concept,
especially as an indication of how the use of a
concept is limited in indexing practice.</dd>
<dt>skos:definition</dt><dd>supplies a complete explanation of the intended
meaning of a concept.</dd>
<dt>skos:example</dt><dd>supplies an example of the use of a concept.</dd>
<dt>skos:historyNote</dt><dd>describes significant changes to the meaning or
the form of a concept.</dd>
</dl>
</div>
</div>

<div id="outline-container-org25ac488" class="outline-4">
<h4 id="org25ac488"><span class="section-number-4">12.2.2</span> Editorial properties</h4>
<div class="outline-text-4" id="text-12-2-2">
<dl class="org-dl">
<dt>skos:editorialNote</dt><dd>supplies information that is an aid to
administrative housekeeping, such as reminders of editorial work
still to be done, or warnings in the event that future editorial
changes might be made.</dd>
<dt>skos:changeNote</dt><dd>documents fine-grained changes to a concept, for
the purposes of administration and maintenance.</dd>
</dl>
</div>
</div>
</div>

<div id="outline-container-org8713ac6" class="outline-3">
<h3 id="org8713ac6"><span class="section-number-3">12.3</span> OTTR templates for SHACL Shapes</h3>
<div class="outline-text-3" id="text-12-3">
<p>
OTTR templates and tabular input data are used to specify SHACL
shapes. The table input format and the corresponding OTTR templates
are found below.
</p>
</div>

<div id="outline-container-org9e164f5" class="outline-4">
<h4 id="org9e164f5"><span class="section-number-4">12.3.1</span> Table templates input schemata</h4>
<div class="outline-text-4" id="text-12-3-1">
<table id="orgc634c9f" border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-left" />

<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<thead>
<tr>
<th scope="col" class="org-left">NodeShape</th>
<th scope="col" class="org-left">targetClass</th>
<th scope="col" class="org-left">closed</th>
<th scope="col" class="org-left">ignoredProperties</th>
</tr>
</thead>
<tbody>
<tr>
<td class="org-left">ex:Node1</td>
<td class="org-left">ex:MyClass</td>
<td class="org-left">true</td>
<td class="org-left">( ex:p1 ex:p2 )</td>
</tr>
</tbody>
</table>

<table id="orgdef4eaf" border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-left" />

<col  class="org-left" />

<col  class="org-left" />

<col  class="org-right" />

<col  class="org-right" />

<col  class="org-left" />

<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<thead>
<tr>
<th scope="col" class="org-left">NodeShape</th>
<th scope="col" class="org-left">path</th>
<th scope="col" class="org-left">message</th>
<th scope="col" class="org-left">severity</th>
<th scope="col" class="org-right">minCount</th>
<th scope="col" class="org-right">maxCount</th>
<th scope="col" class="org-left">class</th>
<th scope="col" class="org-left">datatype</th>
<th scope="col" class="org-left">in-values</th>
</tr>
</thead>
<tbody>
<tr>
<td class="org-left">ex:node1</td>
<td class="org-left">ex:p1</td>
<td class="org-left">'Error: bla'</td>
<td class="org-left">sh:Warning</td>
<td class="org-right">1</td>
<td class="org-right">3</td>
<td class="org-left">ex:MyClass2</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">( ex:c1 ex:c2 )</td>
</tr>
</tbody>
</table>
</div>
</div>

<div id="outline-container-org080b1a7" class="outline-4">
<h4 id="org080b1a7"><span class="section-number-4">12.3.2</span> OTTR templates</h4>
<div class="outline-text-4" id="text-12-3-2">
<div class="org-src-container">
<pre class="src src-ttl">@prefix xsd:	&lt;http://www.w3.org/2001/XMLSchema#&gt; .
@prefix rdf:	&lt;http://www.w3.org/1999/02/22-rdf-syntax-ns#&gt; .
@prefix rdfs:	&lt;http://www.w3.org/2000/01/rdf-schema#&gt; .
@prefix owl:    &lt;http://www.w3.org/2002/07/owl#&gt; .
@prefix skos:	&lt;http://www.w3.org/2004/02/skos/core#&gt; .
@prefix pav:	&lt;http://purl.org/pav/&gt; .
@prefix sh: 	&lt;http://www.w3.org/ns/shacl#&gt; . 
@prefix shsh:   &lt;http://www.w3.org/ns/shacl-shacl#&gt; .
@prefix ex:	&lt;http://example.com#&gt; .
@prefix imf:	&lt;http://ns.imfid.org/imf#&gt; .
@prefix ottr:        &lt;http://ns.ottr.xyz/0.4/&gt; .
@prefix o-rdf:       &lt;http://tpl.ottr.xyz/rdf/0.1/&gt; .
@prefix o-owl-ax:    &lt;http://tpl.ottr.xyz/owl/axiom/0.1/&gt; .
@prefix o-owl-ma:    &lt;http://tpl.ottr.xyz/owl/macro/0.1/&gt; .
@prefix o-owl-rstr:  &lt;http://tpl.ottr.xyz/owl/restriction/0.1/&gt; .
@prefix o-imf:	     &lt;http://ns.imfid.org/templates/&gt; .

o-imf:ShaclNodeShape[ 
  ottr:IRI ?nodeshapeID, 
  ? owl:Class ?targetClass, 
  ? xsd:boolean ?closed, 
  ? List&lt;ottr:IRI&gt; ?ignoredProperties
] :: {
  o-rdf:Type(?nodeshapeID, sh:NodeShape),
  ottr:Triple(?nodeshapeID, sh:targetClass, ?targetClass),
  ottr:Triple(?nodeshapeID, sh:closed, ?closed),
  ottr:Triple(?nodeshapeID, sh:ignoredProperties, ?ignoredProperties)
} .

o-imf:ShaclPropertyShape[
    ottr:IRI ?nodeshape, 
    ottr:IRI ?path, 
  ? xsd:string ?message, 
  ? ottr:IRI ?severity,
  ? xsd:integer ?mincount, 
  ? xsd:integer ?maxcount, 
  ? owl:Class ?class,
  ? ottr:IRI ?datatype,
  ? List&lt;rdfs:Resource&gt; ?inValues
] :: {
  ottr:Triple(?nodeshape, sh:property, _:P) ,
  ottr:Triple(_:P, sh:path, ?path),
  ottr:Triple(_:P, sh:minCount, ?mincount),
  ottr:Triple(_:P, sh:maxCount, ?maxcount),
  ottr:Triple(_:P, sh:message, ?message),
  ottr:Triple(_:P, sh:class, ?class),
  ottr:Triple(_:P, sh:datatype, ?datatype),
  ottr:Triple(_:P, sh:severity, ?severity),
  ottr:Triple(_:P, sh:in, ?inValues)
} .
</pre>
</div>
</div>
</div>

<div id="outline-container-org982a141" class="outline-4">
<h4 id="org982a141"><span class="section-number-4">12.3.3</span> Example</h4>
<div class="outline-text-4" id="text-12-3-3">
<p>
This is the result of representing the above tables as OTTR instances.
</p>

<div class="org-src-container">
<pre class="src src-ttl">@prefix ex:	&lt;http://example.com#&gt; .
@prefix xsd:	&lt;http://www.w3.org/2001/XMLSchema#&gt; .
@prefix rdf:	&lt;http://www.w3.org/1999/02/22-rdf-syntax-ns#&gt; .
@prefix rdfs:	&lt;http://www.w3.org/2000/01/rdf-schema#&gt; .
@prefix owl:    &lt;http://www.w3.org/2002/07/owl#&gt; .
@prefix skos:	&lt;http://www.w3.org/2004/02/skos/core#&gt; .
@prefix pav:	&lt;http://purl.org/pav/&gt; .
@prefix sh: 	&lt;http://www.w3.org/ns/shacl#&gt; . 
@prefix shsh:   &lt;http://www.w3.org/ns/shacl-shacl#&gt; .
@prefix ex:	&lt;http://example.com#&gt; .
@prefix imf:	&lt;http://ns.imfid.org/imf#&gt; .
@prefix ottr:        &lt;http://ns.ottr.xyz/0.4/&gt; .
@prefix o-rdf:       &lt;http://tpl.ottr.xyz/rdf/0.1/&gt; .
@prefix o-owl-ax:    &lt;http://tpl.ottr.xyz/owl/axiom/0.1/&gt; .
@prefix o-owl-ma:    &lt;http://tpl.ottr.xyz/owl/macro/0.1/&gt; .
@prefix o-owl-rstr:  &lt;http://tpl.ottr.xyz/owl/restriction/0.1/&gt; .
@prefix o-imf:	     &lt;http://ns.imfid.org/templates/&gt; .

[] ottr:of o-imf:ShaclNodeShape ;
   ottr:values ( ex:Node1 ex:MyClass true ( ex:p1 ex:p2 ) ) . 

[] ottr:of o-imf:ShaclPropertyShape ;
   ottr:values ( ex:node1 ex:p1 'Error: bla' sh:Warning 1 3 ex:MyClass2 ottr:none ( ex:c1 ex:c2 ) ) . 

</pre>
</div>

<pre class="example">
SLF4J: Failed to load class "org.slf4j.impl.StaticLoggerBinder".
SLF4J: Defaulting to no-operation (NOP) logger implementation
SLF4J: See http://www.slf4j.org/codes.html#StaticLoggerBinder for further details.

# [INFO] Fetched template: http://tpl.ottr.xyz/owl/axiom/0.1/SubClassOf

# [INFO] Fetched template: http://tpl.ottr.xyz/owl/axiom/0.1/SubObjectAllValuesFrom

# [INFO] Fetched template: http://tpl.ottr.xyz/owl/macro/0.1/DomainRange

# [INFO] Fetched template: http://tpl.ottr.xyz/rdf/0.1/Type

# [INFO] Fetched template: http://tpl.ottr.xyz/owl/axiom/0.1/EquivObjectHasValue

# [INFO] Fetched template: http://tpl.ottr.xyz/owl/axiom/0.1/SubObjectPropertyOf

# [INFO] Fetched template: http://tpl.ottr.xyz/owl/restriction/0.1/ObjectAllValuesFrom

# [INFO] Fetched template: http://tpl.ottr.xyz/owl/axiom/0.1/EquivalentClass

# [INFO] Fetched template: http://tpl.ottr.xyz/owl/axiom/0.1/SubPropertyOf

# [INFO] Fetched template: http://tpl.ottr.xyz/owl/restriction/0.1/ObjectHasValue

# [INFO] Fetched template: http://tpl.ottr.xyz/owl/restriction/0.1/AllValuesFrom

# [INFO] Fetched template: http://tpl.ottr.xyz/owl/restriction/0.1/HasValue

# [INFO] Fetched template: http://tpl.ottr.xyz/owl/util/0.1/ValueRestriction
rapper: Parsing URI file:///home/martige/repo/imf-lab/imf-ontology/temp/example-shacl-shapes.wottr.ttl.temp with parser turtle
rapper: Serializing with serializer turtle
rapper: Parsing returned 20 triples
</pre>

<p>
This is the result of expanding the OTTR instances:
</p>

<div class="org-src-container">
<pre class="src src-ttl">@prefix rdf: &lt;http://www.w3.org/1999/02/22-rdf-syntax-ns#&gt; .
@prefix imf: &lt;http://ns.imfid.org/imf#&gt; .
@prefix pav: &lt;http://purl.org/pav/&gt; .
@prefix o-rdf: &lt;http://tpl.ottr.xyz/rdf/0.1/&gt; .
@prefix o-owl-rstr: &lt;http://tpl.ottr.xyz/owl/restriction/0.1/&gt; .
@prefix owl: &lt;http://www.w3.org/2002/07/owl#&gt; .
@prefix xsd: &lt;http://www.w3.org/2001/XMLSchema#&gt; .
@prefix skos: &lt;http://www.w3.org/2004/02/skos/core#&gt; .
@prefix rdfs: &lt;http://www.w3.org/2000/01/rdf-schema#&gt; .
@prefix ex: &lt;http://example.com#&gt; .
@prefix sh: &lt;http://www.w3.org/ns/shacl#&gt; .
@prefix o-imf: &lt;http://ns.imfid.org/templates/&gt; .
@prefix ottr: &lt;http://ns.ottr.xyz/0.4/&gt; .
@prefix o-owl-ma: &lt;http://tpl.ottr.xyz/owl/macro/0.1/&gt; .
@prefix o-owl-ax: &lt;http://tpl.ottr.xyz/owl/axiom/0.1/&gt; .
@prefix shsh: &lt;http://www.w3.org/ns/shacl-shacl#&gt; .

ex:Node1
    a sh:NodeShape ;
    sh:closed true ;
    sh:ignoredProperties (ex:p1
        ex:p2
    ) ;
    sh:targetClass ex:MyClass .

ex:node1
    sh:property [
        sh:class ex:MyClass2 ;
        sh:in (ex:c1
            ex:c2
        ) ;
        sh:maxCount 3 ;
        sh:message "Error: bla" ;
        sh:minCount 1 ;
        sh:path ex:p1 ;
        sh:severity sh:Warning
    ] .
</pre>
</div>
</div>
</div>
</div>
</div>
</div>
<div id="postamble" class="status">
<p class="author">Author: Martin G. SkjÃ¦veland</p>
<p class="date">Created: 2022-03-14 Mon 22:59</p>
<p class="validation"><a href="http://validator.w3.org/check?uri=referer">Validate</a></p>
</div>
</body>
</html>
