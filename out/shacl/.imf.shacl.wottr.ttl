@prefix xsd:	<http://www.w3.org/2001/XMLSchema#> .
@prefix rdf:	<http://www.w3.org/1999/02/22-rdf-syntax-ns#> .
@prefix rdfs:	<http://www.w3.org/2000/01/rdf-schema#> .
@prefix owl:    <http://www.w3.org/2002/07/owl#> .
@prefix skos:	<http://www.w3.org/2004/02/skos/core#> .
@prefix pav:	<http://purl.org/pav/> .
@prefix sh: 	<http://www.w3.org/ns/shacl#> . 
@prefix shsh:   <http://www.w3.org/ns/shacl-shacl#> .
@prefix ex:	<http://example.com#> .
@prefix imf:	<http://ns.imfid.org/imf#> .

@prefix p14:    <http://example.com/P14#> .
@prefix ottr:        <http://ns.ottr.xyz/0.4/> .
@prefix o-rdf:       <http://tpl.ottr.xyz/rdf/0.1/> .
@prefix o-rdfs:       <http://tpl.ottr.xyz/rdfs/0.2/> .
@prefix o-owl-ax:    <http://tpl.ottr.xyz/owl/axiom/0.1/> .
@prefix o-owl-ma:    <http://tpl.ottr.xyz/owl/macro/0.1/> .
@prefix o-owl-rstr:  <http://tpl.ottr.xyz/owl/restriction/0.1/> .

@prefix o-imf:	     <http://ns.imfid.org/templates/> .
@prefix o-imf-t-s:   <http://ns.imfid.org/templates/type/shacl/> .


imf:ElementShape a sh:NodeShape ;
  sh:targetClass imf:Element , imf:Block , imf:Terminal ;
  sh:property 
    [ sh:path skos:prefLabel ; sh:minCount 1 ; sh:severity sh:Warning ; sh:message "Element has no prefLabel" ] ,
    [ sh:path imf:classifier ; sh:minCount 1 ; sh:severity sh:Warning ; sh:message "Element has no classifier" ]
.
imf:BlockShape a sh:NodeShape ;
  sh:targetClass imf:Block ;
  sh:targetSubjectsOf imf:hasTerminal ;
  sh:property 
    [ sh:path skos:hasTerminal ; sh:class sh:Terminal ] ,
    [ sh:path skos:hasTerminal ; sh:minCount 1 ; sh:severity sh:Warning ; sh:message "Block has no Terminal" ] ,     
    [ sh:path imf:partOf ; sh:maxCount 1 ; sh:class sh:Block ]
.
imf:TerminalShape a sh:NodeShape ;
  sh:targetClass imf:Terminal , imf:InputTerminal , imf:OutputTerminal ;
  sh:targetSubjectsOf imf:connectedTo , imf:medium , imf:direction ;
  sh:targetObjectsOf imf:hasTerminal, imf:connectedTo ;
  sh:property 
    [ sh:path imf:partOf ; sh:maxCount 1 ; sh:class sh:Terminal ] ,
    [ sh:path imf:connectedTo ; sh:maxCount 1 ; sh:class sh:Terminal ] ,
    [ sh:path imf:connectedTo ; sh:minCount 1 ; sh:severity sh:Warning ; sh:message "Terminal has no connection (to other Terminal)" ] , 
    [ sh:path imf:direction ; sh:maxCount 1 ; sh:in ( imf:input imf:output ) ] ,
    [ sh:path imf:medium ; sh:maxCount 1 ]  ,
    [ sh:path imf:medium ; sh:minCount 1 ; sh:severity sh:Warning ; sh:message "Terminal has no medium" ]
.
imf:AspectElementShape a sh:NodeShape ;
  sh:targetClass imf:AspectElement ;
  sh:targetSubjectsOf imf:aspect ;
  sh:property 
    [ sh:path imf:aspect ; sh:minCount 1 ; sh:maxCount 1 ; sh:class sh:Aspect ] 
.
imf:AttributeShape a sh:NodeShape ;
  sh:targetClass imf:Attribute ;
  sh:targetObjectsOf imf:hasAttribute ;
  sh:targetSubjectsOf imf:property, imf:uom, imf:qualifier ;
  sh:property 
    [ sh:path imf:property ; sh:minCount 1 ; sh:maxCount 1 ] ,
    [ sh:path imf:value ; sh:minCount 1 ; sh:severity sh:Warning ; sh:message "Attribute has no value" ] ,
    [ sh:path imf:uom ; sh:maxCount 1 ] , 
    [ sh:path imf:qualifier ; sh:maxCount 1 ; sh:class imf:Regularity ] , 
    [ sh:path imf:qualifier ; sh:maxCount 1 ; sh:class imf:Range ] , 
    [ sh:path imf:qualifier ; sh:maxCount 1 ; sh:class imf:Provenence ] , 
    [ sh:path imf:qualifier ; sh:maxCount 1 ; sh:class imf:Scope ] ,
    [ sh:path imf:qualifier ; sh:minCount 1 ; sh:severity sh:Warning ; sh:message "Attribute has no qualifier" ] 
.
imf:AttributeGroupShape a sh:NodeShape ;
  sh:targetClass imf:AttributeGroup ;
  sh:targetObjectsOf imf:hasAttributeGroup ;
  sh:property 
    [ sh:path imf:hasAttribute ; sh:minCount 1 ; sh:message "AttributeGroup has no Attributes" ]
.
